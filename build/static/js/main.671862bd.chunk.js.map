{"version":3,"sources":["helpers/findInElements.js","helpers/findParentAndIndexInElements.js","helpers/id.js","helpers/deepClone.js","helpers/safeClassName.js","constants/index.js","context.js","components/MouseOverRect.js","components/ActiveFrame.js","components/EditorIFrame.js","components/EditorCanvas.js","components/common/Accordion.js","components/common/BadgeButton.js","helpers/exportHTML.js","helpers/createHTML.js","components/common/FormGroup.js","components/ElementInfos.js","components/common/NumberControl.js","components/CssPropertyInput.js","components/CssPropertyColorInput.js","components/CssPropertyButtonGroup.js","components/CssPropertyIconButtonGroup.js","components/CssPropertyTextInput.js","components/CssPropertySelect.js","components/CssProperties.js","components/common/BadgeAddInput.js","components/AddClassInput.js","components/CssEditor.js","components/InspectorPanel.js","helpers/saveJSON.js","components/common/CollapsableElement.js","components/ElementTreeItemSingle.js","components/ElementTreeItem.js","components/ElementTreeContainer.js","components/LeftPanel.js","components/TopBar.js","App.js","index.js"],"names":["findInElements","elements","matchingID","searchTree","element","id","children","i","result","length","el","undefined","found","findParentAndIndexInElements","find","idx","findIndex","parent","index","ID","Math","random","toString","substr","deepClone","a","JSON","parse","stringify","makeSafeForCSS","name","replace","DEFAULT_ELEMENTS","tag","classNames","text","DEFAULT_CLASSNAMES","txt","properties","value","unit","display","height","width","MOVE_ELEMENT_POSITION","debounce","require","Context","createContext","ContextProvider","Component","constructor","props","super","debouncedAddToHistory","this","addToHistory","addClassName","bind","removeClassName","updateClassText","updateClassProperty","setCurrentActive","addClassToElement","removeClassFromElement","addChildToElement","removeElement","changeElementText","changeElementSrc","updatePseudoClass","changeElementTag","getClassByName","moveElement","cloneElement","importJSON","moveElementFromTo","historyMove","selectParent","state","currentActive","history","historyPos","className","c","newClassObj","newClassNames","setState","indexOf","splice","classNameObj","property","childID","push","tagName","child","url","src","pseudo","classObj","cn","by","data","from","to","f","moveItem","fromID","toID","position","fromParentAndIndex","toParentAndIndex","fromElement","toElement","fromArray","toArray","childrenOfFromElement","console","log","cloned","changeNestedIDs","forEach","e","file","target","files","reader","FileReader","that","onload","event","json","onerror","error","readAsText","slice","concat","step","newHistoryPos","pos","componentDidMount","render","Provider","ContextConsumer","Consumer","MouseOverRect","scrollPos","rect","setRect","useState","show","setShow","visible","setVisible","useEffect","onMouseMove","box","getBoundingClientRect","onMouseEnter","onMouseLeave","style","border","pointerEvents","left","top","ActiveFrame","currentBox","useContext","marginTop","x","y","margin","transform","onClick","size","title","join","class","EditorIFrame","contentRef","setContentRef","mountNode","contentWindow","document","body","doc","addEventListener","onScroll","scrollTop","ref","createPortal","EditorCanvas","setRef","setCurrentBox","setScrollPos","useLayoutEffect","responsiveWidth","hidePanels","classNamesCss","key","obj","Object","entries","childElements","childrenArray","map","TagName","Fragment","elClassList","newRef","stopPropagation","html","onChange","rel","href","Accordion","isOpen","open","setOpen","openClass","chevronTransformClass","type","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","BadgeButton","onDelete","isActive","activeClass","sizeClass","xs","sm","md","lg","exportHTML","svgCode","Main","beautify","ReactDOMServer","renderToString","createHTML","blob","Blob","window","URL","createObjectURL","createElement","download","click","FormGroup","placeholder","btnText","onKeyDown","ALLOWED_TAGS","ElementInfos","elementSelected","setText","setTag","setSrc","val","NumberControl","startValue","setStartValue","useRef","direction","startPos","isXDirection","updateMouse","clientPos","clientX","clientY","newValue","Number","mouseUpHandler","current","removeEventListener","onMouseDown","cursor","CssPropertyInput","propertyName","cssClass","label","hasUnit","setProperty","startUnit","setUnit","u","CssPropertyButtonGroup","options","option","CssPropertyIconButtonGroup","icon","CssPropertyTextInput","CssPropertySelect","disabled","dimensionProperties","dimensionMinMaxProperties","fontProperties","textAlignProperty","alignLeft","alignCenter","alignRight","fontStyleProperty","formatItalic","textDecorationProperty","formatUnderline","formatStrikethrough","textTransformProperty","formatUppercase","formatLowercase","formatCapitalize","fontFamilyProperty","fontColorProperty","fontWeightProperty","PaddingProperties","marginProperties","borderWidthProperties","borderRadiusProperties","borderColorProperty","colorProperties","positionProperty","positionDirectionProperties","displayProperty","justifyContentProperty","justifyLeft","justifyCenter","justifyRight","justifySpaceBetween","alignItemsProperty","columns","flexProperties","imageProperties","visbilityProperties","opacityProperty","CssProperties","p","min","max","BadgeAddInput","onAdd","active","setActive","inputRef","handleAdd","blur","focus","onBlur","AddClassInput","classNameRecieverEl","selectClass","newClassName","CssEditor","setPseudo","selectPseudo","setVal","n","onValueChange","code","highlight","hljs","language","padding","fontFamily","fontSize","SelectClassContext","InspectorPanel","setCssClass","setNewClassName","Group","List","selected","Panels","Panel","saveJSON","accept","CollapsableElement","ElementTreeItemSingle","dragRef","useDrag","item","isOverBefore","dropRefBefore","useDrop","drop","collect","monitor","isOver","isOverAfter","dropRefAfter","isOverInside","dropRefInside","AlwaysVisible","maxWidth","draggable","dragHandle","ElementTreeItem","ElementTreeContainer","LeftPanel","TopBar","setResponsiveWidth","setHidePanels","App","rootElement","getElementById","ReactDOM","DndProvider","backend","HTML5Backend"],"mappings":"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","file":"static/js/main.671862bd.chunk.js","sourcesContent":["const findInElements = (elements, matchingID) => {\r\n  function searchTree(element, matchingID) {\r\n    if (element.id === matchingID) {\r\n      return element;\r\n    } else if (element.children != null) {\r\n      var i;\r\n      var result = null;\r\n      for (i = 0; result == null && i < element.children.length; i++) {\r\n        result = searchTree(element.children[i], matchingID);\r\n      }\r\n      return result;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  let el;\r\n  for (let i = 0; el === undefined && i < elements.length; i++) {\r\n    let found = searchTree(elements[i], matchingID);\r\n    if (found) {\r\n      el = found;\r\n    }\r\n  }\r\n\r\n  return el;\r\n};\r\n\r\nexport default findInElements;\r\n","const findParentAndIndexInElements = (elements, matchingID) => {\r\n  function searchTree(element, matchingID) {\r\n    if (\r\n      element.children &&\r\n      element.children.find((el) => el.id === matchingID)\r\n    ) {\r\n      const idx = element.children.findIndex((el) => el.id === matchingID);\r\n      return { parent: element, index: idx };\r\n    } else if (element.children != null) {\r\n      var i;\r\n      var result = null;\r\n      for (i = 0; result == null && i < element.children.length; i++) {\r\n        result = searchTree(element.children[i], matchingID);\r\n      }\r\n      return result;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  let el;\r\n  for (let i = 0; el === undefined && i < elements.length; i++) {\r\n    let found = searchTree(elements[i], matchingID);\r\n    if (found) {\r\n      el = found;\r\n    }\r\n  }\r\n\r\n  return el;\r\n};\r\n\r\nexport default findParentAndIndexInElements;\r\n","// Generate unique IDs for use as pseudo-private/protected names.\r\n// Similar in concept to\r\n// <http://wiki.ecmascript.org/doku.php?id=strawman:names>.\r\n//\r\n// The goals of this function are twofold:\r\n//\r\n// * Provide a way to generate a string guaranteed to be unique when compared\r\n//   to other strings generated by this function.\r\n// * Make the string complex enough that it is highly unlikely to be\r\n//   accidentally duplicated by hand (this is key if you're using `ID`\r\n//   as a private/protected name on an object).\r\n//\r\n// Use:\r\n//\r\n//     var privateName = ID();\r\n//     var o = { 'public': 'foo' };\r\n//     o[privateName] = 'bar';\r\nvar ID = function () {\r\n  // Math.random should be unique because of its seeding algorithm.\r\n  // Convert it to base 36 (numbers + letters), and grab the first 9 characters\r\n  // after the decimal.\r\n  return \"_\" + Math.random().toString(36).substr(2, 9);\r\n};\r\n\r\nexport default ID;\r\n","export default function deepClone(a) {\r\n  return JSON.parse(JSON.stringify(a));\r\n}\r\n","export default function makeSafeForCSS(name) {\r\n  return name.replace(\r\n    /[!\\\"#$%&'\\s*\\(\\)\\*\\+,\\.\\/:;<=>\\?\\@\\[\\\\\\]\\^`\\{\\|\\}~]/g,\r\n    \"\"\r\n  );\r\n}\r\n","export const DEFAULT_ELEMENTS = [\r\n  {\r\n    tag: \"div\",\r\n    id: 1,\r\n    classNames: [\"navbar\"],\r\n    children: [\r\n      {\r\n        tag: \"div\",\r\n        id: 5,\r\n        classNames: [\"navbar__brand\"],\r\n        children: [\r\n          {\r\n            tag: false,\r\n            text: \"Brand\",\r\n            id: 4,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        tag: \"div\",\r\n        id: \"_p57ix438m\",\r\n        classNames: [\"menu-icon\"],\r\n        children: [\r\n          {\r\n            tag: \"div\",\r\n            id: \"_04btqcxj5\",\r\n            classNames: [\"menu-icon__bar\"],\r\n            children: [],\r\n          },\r\n          {\r\n            tag: \"div\",\r\n            id: \"_a1xw92k7b\",\r\n            classNames: [\"menu-icon__bar\"],\r\n            children: [],\r\n          },\r\n          {\r\n            tag: \"div\",\r\n            id: \"_8qok9wfs1\",\r\n            classNames: [\"menu-icon__bar\"],\r\n            children: [],\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    tag: \"div\",\r\n    id: \"_ks2wq0oj1\",\r\n    classNames: [\"main\"],\r\n    children: [\r\n      {\r\n        tag: \"div\",\r\n        id: \"_rvoodmaa6\",\r\n        classNames: [\"card\"],\r\n        children: [\r\n          {\r\n            tag: false,\r\n            id: \"_pee8z2jje\",\r\n            classNames: [],\r\n            children: [],\r\n            text: \"Hello World\",\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nexport const DEFAULT_CLASSNAMES = [\r\n  {\r\n    name: \"navbar\",\r\n    txt: \"\",\r\n    properties: {\r\n      \"padding-left\": {\r\n        value: 40,\r\n        unit: \"px\",\r\n      },\r\n      \"padding-right\": {\r\n        value: 40,\r\n        unit: \"px\",\r\n      },\r\n      \"padding-top\": {\r\n        value: 30,\r\n        unit: \"px\",\r\n      },\r\n      \"padding-bottom\": {\r\n        value: 30,\r\n        unit: \"px\",\r\n      },\r\n      \"background-color\": {\r\n        value: \"#db6666\",\r\n        unit: \"\",\r\n      },\r\n      display: {\r\n        value: \"flex\",\r\n        unit: \"\",\r\n      },\r\n      \"justify-content\": {\r\n        value: \"space-between\",\r\n        unit: \"\",\r\n      },\r\n      \"align-items\": {\r\n        value: \"center\",\r\n        unit: \"\",\r\n      },\r\n    },\r\n  },\r\n  {\r\n    name: \"navbar__brand\",\r\n    txt: \"\",\r\n  },\r\n  {\r\n    name: \"main\",\r\n    txt: \"\",\r\n    properties: {\r\n      \"padding-right\": {\r\n        value: \"10\",\r\n        unit: \"%\",\r\n      },\r\n      \"padding-left\": {\r\n        value: \"10\",\r\n        unit: \"%\",\r\n      },\r\n      \"padding-top\": {\r\n        value: 40,\r\n        unit: \"px\",\r\n      },\r\n      \"padding-bottom\": {\r\n        value: 40,\r\n        unit: \"px\",\r\n      },\r\n    },\r\n  },\r\n  {\r\n    name: \"card\",\r\n    txt: \"\",\r\n    properties: {\r\n      height: {\r\n        value: 481,\r\n        unit: \"px\",\r\n      },\r\n      \"background-color\": {\r\n        value: \"#ebebeb\",\r\n        unit: \"\",\r\n      },\r\n      \"border-top-left-radius\": {\r\n        value: \"10\",\r\n        unit: \"px\",\r\n      },\r\n      \"border-top-right-radius\": {\r\n        value: \"10\",\r\n        unit: \"px\",\r\n      },\r\n      \"border-bottom-right-radius\": {\r\n        value: \"10\",\r\n        unit: \"px\",\r\n      },\r\n      \"border-bottom-left-radius\": {\r\n        value: \"10\",\r\n        unit: \"px\",\r\n      },\r\n      \"font-size\": {\r\n        value: 56,\r\n        unit: \"px\",\r\n      },\r\n      \"padding-top\": {\r\n        value: 25,\r\n        unit: \"px\",\r\n      },\r\n      \"padding-right\": {\r\n        value: \"25\",\r\n        unit: \"px\",\r\n      },\r\n      \"padding-bottom\": {\r\n        value: \"25\",\r\n        unit: \"px\",\r\n      },\r\n      \"padding-left\": {\r\n        value: \"25\",\r\n        unit: \"px\",\r\n      },\r\n    },\r\n  },\r\n  {\r\n    name: \"menu-icon\",\r\n    txt: \"\",\r\n  },\r\n  {\r\n    name: \"menu-icon__bar\",\r\n    txt: \"\",\r\n    properties: {\r\n      height: {\r\n        value: \"2\",\r\n        unit: \"px\",\r\n      },\r\n      \"background-color\": {\r\n        value: \"#000000\",\r\n        unit: \"\",\r\n      },\r\n      width: {\r\n        value: \"30\",\r\n        unit: \"px\",\r\n      },\r\n      \"margin-top\": {\r\n        value: \"5\",\r\n        unit: \"px\",\r\n      },\r\n      \"margin-bottom\": {\r\n        value: \"5\",\r\n        unit: \"px\",\r\n      },\r\n    },\r\n  },\r\n];\r\n\r\nexport const MOVE_ELEMENT_POSITION = {\r\n  AFTER: \"AFTER\",\r\n  BEFORE: \"BEFORE\",\r\n  INSIDE: \"INSIDE\",\r\n};\r\n","import { createContext, Component } from \"react\";\r\nimport findInElements from \"./helpers/findInElements\";\r\nimport findParentAndIndexInElements from \"./helpers/findParentAndIndexInElements\";\r\nimport ID from \"./helpers/id\";\r\nimport deepClone from \"./helpers/deepClone\";\r\nimport makeSafeForCSS from \"./helpers/safeClassName\";\r\nimport {\r\n  DEFAULT_ELEMENTS,\r\n  DEFAULT_CLASSNAMES,\r\n  MOVE_ELEMENT_POSITION,\r\n} from \"./constants\";\r\nvar debounce = require(\"lodash/debounce\");\r\n\r\nexport const Context = createContext();\r\n\r\nexport class ContextProvider extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.addClassName = this.addClassName.bind(this);\r\n    this.removeClassName = this.removeClassName.bind(this);\r\n    this.updateClassText = this.updateClassText.bind(this);\r\n    this.updateClassProperty = this.updateClassProperty.bind(this);\r\n    this.setCurrentActive = this.setCurrentActive.bind(this);\r\n    this.addClassToElement = this.addClassToElement.bind(this);\r\n    this.removeClassFromElement = this.removeClassFromElement.bind(this);\r\n    this.addChildToElement = this.addChildToElement.bind(this);\r\n    this.removeElement = this.removeElement.bind(this);\r\n    this.changeElementText = this.changeElementText.bind(this);\r\n    this.changeElementSrc = this.changeElementSrc.bind(this);\r\n    this.updatePseudoClass = this.updatePseudoClass.bind(this);\r\n    this.changeElementTag = this.changeElementTag.bind(this);\r\n    this.getClassByName = this.getClassByName.bind(this);\r\n    this.moveElement = this.moveElement.bind(this);\r\n    this.cloneElement = this.cloneElement.bind(this);\r\n    this.importJSON = this.importJSON.bind(this);\r\n    this.moveElementFromTo = this.moveElementFromTo.bind(this);\r\n    this.historyMove = this.historyMove.bind(this);\r\n    this.selectParent = this.selectParent.bind(this);\r\n\r\n    this.state = {\r\n      currentActive: undefined,\r\n      classNames: DEFAULT_CLASSNAMES,\r\n      elements: DEFAULT_ELEMENTS,\r\n      history: [],\r\n      historyPos: 0, //not active, negative is active\r\n\r\n      // methods\r\n      addClassName: this.addClassName,\r\n      removeClassName: this.removeClassName,\r\n      updateClassText: this.updateClassText,\r\n      updateClassProperty: this.updateClassProperty,\r\n      setCurrentActive: this.setCurrentActive,\r\n      addClassToElement: this.addClassToElement,\r\n      removeClassFromElement: this.removeClassFromElement,\r\n      addChildToElement: this.addChildToElement,\r\n      removeElement: this.removeElement,\r\n      changeElementText: this.changeElementText,\r\n      changeElementSrc: this.changeElementSrc,\r\n      updatePseudoClass: this.updatePseudoClass,\r\n      changeElementTag: this.changeElementTag,\r\n      moveElement: this.moveElement,\r\n      moveElementFromTo: this.moveElementFromTo,\r\n      cloneElement: this.cloneElement,\r\n      importJSON: this.importJSON,\r\n      historyMove: this.historyMove,\r\n      selectParent: this.selectParent,\r\n\r\n      //getters\r\n      getClassByName: this.getClassByName,\r\n    };\r\n  }\r\n\r\n  addClassName(className) {\r\n    if (this.state.classNames.findIndex((c) => c.name === className) > -1) {\r\n      return;\r\n    }\r\n    const newClassObj = { name: makeSafeForCSS(className), txt: \"\" };\r\n    const newClassNames = [...this.state.classNames, newClassObj];\r\n    this.setState({ classNames: newClassNames }, () => {\r\n      this.addToHistory();\r\n    });\r\n\r\n    return newClassObj;\r\n  }\r\n\r\n  removeClassName(className) {\r\n    const newClassNames = [...this.state.classNames];\r\n    const index = newClassNames.indexOf(className);\r\n    if (index > -1) {\r\n      newClassNames.splice(index, 1);\r\n    }\r\n\r\n    this.setState({ classNames: newClassNames }, () => {\r\n      this.addToHistory();\r\n    });\r\n  }\r\n\r\n  updateClassText(classNameObj, txt) {\r\n    if (!classNameObj) return;\r\n    const newClassNames = [...this.state.classNames];\r\n    const index = newClassNames.findIndex(\r\n      (el) => classNameObj.name === el.name\r\n    );\r\n    if (index > -1) {\r\n      newClassNames[index] = { ...newClassNames[index], txt };\r\n    }\r\n\r\n    this.setState(\r\n      { classNames: [...newClassNames] },\r\n      this.debouncedAddToHistory\r\n    );\r\n  }\r\n\r\n  updateClassProperty(classNameObj, property, value, unit = \"\") {\r\n    if (!classNameObj) return;\r\n    const newClassNames = [...this.state.classNames];\r\n    const index = newClassNames.findIndex(\r\n      (el) => classNameObj.name === el.name\r\n    );\r\n    if (index > -1) {\r\n      newClassNames[index] = {\r\n        ...newClassNames[index],\r\n        properties: {\r\n          ...newClassNames[index].properties,\r\n          [property]: { value, unit },\r\n        },\r\n      };\r\n    }\r\n\r\n    this.setState(\r\n      { classNames: [...newClassNames] },\r\n      this.debouncedAddToHistory\r\n    );\r\n  }\r\n\r\n  setCurrentActive(el) {\r\n    if (el) {\r\n      this.setState({ currentActive: el });\r\n    } else {\r\n      this.setState({ currentActive: false });\r\n    }\r\n  }\r\n\r\n  selectParent(childID) {\r\n    const found = findParentAndIndexInElements(this.state.elements, childID);\r\n\r\n    parent = found ? found.parent : undefined;\r\n\r\n    this.setCurrentActive(parent);\r\n  }\r\n\r\n  addClassToElement(id, className) {\r\n    const elements = [...this.state.elements];\r\n    const el = findInElements(elements, id);\r\n    className = makeSafeForCSS(className);\r\n\r\n    if (!el?.classNames) return;\r\n    if (el) {\r\n      if (el.classNames.indexOf(className) === -1) {\r\n        el.classNames.push(className);\r\n      }\r\n      if (this.state.classNames.indexOf(className) === -1) {\r\n        this.addClassName(className);\r\n      }\r\n    }\r\n\r\n    this.setState({ elements }, () => {\r\n      this.addToHistory();\r\n    });\r\n  }\r\n\r\n  removeClassFromElement(id, className) {\r\n    const elements = [...this.state.elements];\r\n\r\n    const el = findInElements(elements, id);\r\n\r\n    if (el) {\r\n      const idx = el.classNames.indexOf(className);\r\n      if (idx !== -1) {\r\n        el.classNames.splice(idx, 1);\r\n      }\r\n    }\r\n\r\n    this.setState({ elements }, () => {\r\n      this.addToHistory();\r\n    });\r\n  }\r\n\r\n  addChildToElement(id, tagName) {\r\n    const elements = [...this.state.elements];\r\n    const el = findInElements(elements, id);\r\n    const child = {\r\n      tag: tagName,\r\n      id: ID(),\r\n      classNames: [],\r\n      children: [],\r\n    };\r\n\r\n    if (!tagName) {\r\n      //must be a textNode\r\n      child.text = \"Text\";\r\n    }\r\n\r\n    if (el) {\r\n      el.children.push(child);\r\n    } else {\r\n      //add to root\r\n      elements.push(child);\r\n    }\r\n    this.setCurrentActive(child);\r\n\r\n    this.setState({ elements }, () => {\r\n      this.addToHistory();\r\n    });\r\n  }\r\n\r\n  removeElement(id) {\r\n    const elements = [...this.state.elements];\r\n    let found = findParentAndIndexInElements(elements, id);\r\n\r\n    //unset currentActive if it is deleted\r\n    if (id === this.state.currentActive?.id) {\r\n      this.setCurrentActive(false);\r\n    }\r\n\r\n    if (!found) {\r\n      let index = elements.findIndex((el) => el.id === id);\r\n      if (index > -1) {\r\n        elements.splice(index, 1);\r\n      }\r\n    } else {\r\n      found.parent.children && found.parent.children.splice(found.index, 1);\r\n    }\r\n\r\n    this.setState({ elements }, () => {\r\n      this.addToHistory();\r\n    });\r\n  }\r\n\r\n  changeElementText(id, txt) {\r\n    const elements = [...this.state.elements];\r\n    const el = findInElements(elements, id);\r\n\r\n    el.text = txt;\r\n\r\n    this.setState({ elements }, () => {\r\n      this.addToHistory();\r\n    });\r\n  }\r\n\r\n  changeElementSrc(id, url) {\r\n    const elements = [...this.state.elements];\r\n    const el = findInElements(elements, id);\r\n\r\n    el.src = url;\r\n\r\n    this.setState({ elements }, () => {\r\n      this.addToHistory();\r\n    });\r\n  }\r\n\r\n  // add pseudo like :hover, :before ...\r\n  updatePseudoClass(classNameObj, pseudo, txt) {\r\n    if (!classNameObj) return;\r\n    const newClassNames = [...this.state.classNames];\r\n    const index = newClassNames.findIndex(\r\n      (el) => classNameObj.name === el.name\r\n    );\r\n    if (index > -1) {\r\n      newClassNames[index] = { ...newClassNames[index], [pseudo]: txt };\r\n    }\r\n\r\n    this.setState({ classNames: [...newClassNames] }, () => {\r\n      this.addToHistory();\r\n    });\r\n  }\r\n\r\n  changeElementTag(id, txt) {\r\n    const elements = [...this.state.elements];\r\n    const el = findInElements(elements, id);\r\n\r\n    el.tag = txt;\r\n\r\n    this.setState({ elements }, () => {\r\n      this.addToHistory();\r\n    });\r\n  }\r\n\r\n  getClassByName(name) {\r\n    const classObj = this.state.classNames.find((cn) => cn.name === name);\r\n    if (!classObj) {\r\n      return this.state.addClassName(name);\r\n    }\r\n    return classObj;\r\n  }\r\n\r\n  /* param by = number // is -1 to move up or +1 to move down */\r\n  moveElement(id, by) {\r\n    const elements = [...this.state.elements];\r\n    let found = findParentAndIndexInElements(elements, id);\r\n\r\n    let data;\r\n    let from;\r\n\r\n    if (!found) {\r\n      from = elements.findIndex((el) => el.id === id);\r\n      data = elements;\r\n    } else {\r\n      from = found.index;\r\n      data = found.parent.children;\r\n    }\r\n\r\n    let to = from + by;\r\n\r\n    function moveItem(from, to) {\r\n      // remove `from` item and store it\r\n      var f = data.splice(from, 1)[0];\r\n      // insert stored item into position `to`\r\n      data.splice(to, 0, f);\r\n    }\r\n    moveItem(from, to);\r\n\r\n    this.setState({ elements }, () => {\r\n      this.addToHistory();\r\n    });\r\n  }\r\n\r\n  moveElementFromTo(fromID, toID, position) {\r\n    const elements = [...this.state.elements];\r\n    let fromParentAndIndex = findParentAndIndexInElements(elements, fromID);\r\n    let toParentAndIndex = findParentAndIndexInElements(elements, toID);\r\n    const fromElement = findInElements(elements, fromID);\r\n    const toElement = findInElements(elements, toID);\r\n\r\n    let fromArray;\r\n    let toArray;\r\n    let from;\r\n    let to;\r\n\r\n    if (!fromParentAndIndex) {\r\n      from = elements.findIndex((el) => el.id === fromID);\r\n      fromArray = elements;\r\n    } else {\r\n      from = fromParentAndIndex.index;\r\n      fromArray = fromParentAndIndex.parent.children;\r\n    }\r\n\r\n    if (!toParentAndIndex) {\r\n      to = elements.findIndex((el) => el.id === toID);\r\n      toArray = elements;\r\n    } else {\r\n      to = toParentAndIndex.index;\r\n      toArray = toParentAndIndex.parent.children;\r\n    }\r\n\r\n    //check if element is moved inside itself\r\n    const childrenOfFromElement = fromElement.children;\r\n    if (childrenOfFromElement && findInElements(childrenOfFromElement, toID)) {\r\n      console.log(\"cant move item inside item\");\r\n      return;\r\n    }\r\n\r\n    function moveItem(from, to) {\r\n      var f = fromArray.splice(from, 1)[0];\r\n      switch (position) {\r\n        case MOVE_ELEMENT_POSITION.BEFORE:\r\n          if (fromArray == toArray && from < to) {\r\n            toArray.splice(to - 1, 0, f);\r\n          } else {\r\n            toArray.splice(to, 0, f);\r\n          }\r\n          break;\r\n        case MOVE_ELEMENT_POSITION.AFTER:\r\n          if (fromArray == toArray && from < to) {\r\n            toArray.splice(to, 0, f);\r\n          } else {\r\n            toArray.splice(to + 1, 0, f);\r\n          }\r\n          break;\r\n        case MOVE_ELEMENT_POSITION.INSIDE:\r\n          toElement.children?.push(f);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    moveItem(from, to);\r\n\r\n    this.setState({ elements }, () => {\r\n      this.addToHistory();\r\n    });\r\n  }\r\n\r\n  cloneElement(id) {\r\n    const elements = [...this.state.elements];\r\n    const el = findInElements(elements, id);\r\n    const found = findParentAndIndexInElements(elements, id);\r\n\r\n    const cloned = deepClone(el);\r\n\r\n    // Change ALL IDs\r\n    cloned.id = ID();\r\n    function changeNestedIDs(elements) {\r\n      elements.forEach((el) => {\r\n        el.id = ID();\r\n        if (el.children) {\r\n          changeNestedIDs(el.children);\r\n        }\r\n      });\r\n    }\r\n    if (cloned.children) {\r\n      changeNestedIDs(cloned.children);\r\n    }\r\n\r\n    // Add the cloned Element right after the original Element\r\n    if (!found) {\r\n      let index = elements.findIndex((el) => el.id === id);\r\n      elements.splice(index + 1, 0, cloned);\r\n    } else {\r\n      found.parent.children &&\r\n        found.parent.children.splice(found.index + 1, 0, cloned);\r\n    }\r\n    console.log(id, cloned);\r\n\r\n    this.setState({ elements }, () => {\r\n      this.addToHistory();\r\n    });\r\n  }\r\n\r\n  importJSON(e) {\r\n    const file = e.target.files[0];\r\n    const reader = new FileReader();\r\n    const that = this;\r\n    reader.onload = (event) => {\r\n      const json = JSON.parse(event.target.result);\r\n      const { classNames, elements } = json;\r\n\r\n      this.addToHistory();\r\n\r\n      that.setState({ classNames, elements });\r\n    };\r\n    reader.onerror = (error) => {\r\n      console.log(error);\r\n    };\r\n    reader.readAsText(file);\r\n  }\r\n\r\n  addToHistory() {\r\n    /* Attention: as immutable updates to the deep nested structure\r\n     * seem almost impossible to me i will just deep clone\r\n     * my state when adding it to history to provide a time travel mechanism\r\n     *\r\n     * TODO: How to debounce\r\n     */\r\n    this.setState(\r\n      {\r\n        history: this.state.history\r\n          .slice(0, this.state.history.length + this.state.historyPos)\r\n          .concat(\r\n            deepClone({\r\n              elements: this.state.elements,\r\n              classNames: this.state.classNames,\r\n            })\r\n          ),\r\n        historyPos: 0,\r\n      },\r\n      () => {\r\n        console.log(\"history\", this.state.history);\r\n      }\r\n    );\r\n  }\r\n\r\n  debouncedAddToHistory = debounce(this.addToHistory, 500);\r\n\r\n  historyMove(step) {\r\n    const newHistoryPos = this.state.historyPos + step;\r\n    const pos = this.state.history.length - 1 + newHistoryPos;\r\n\r\n    /* Attention: atm state needs to be deep cloned here as well.\r\n     * Otherwise it will lead to bugs as state in this class is not updated with real immutability\r\n     */\r\n    this.setState({\r\n      classNames: deepClone(this.state.history[pos].classNames),\r\n      elements: deepClone(this.state.history[pos].elements),\r\n      historyPos: newHistoryPos,\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.addToHistory();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Context.Provider value={this.state}>\r\n        {this.props.children}\r\n      </Context.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport const ContextConsumer = (props) => {\r\n  return <Context.Consumer>{props.children}</Context.Consumer>;\r\n};\r\n","import { useEffect, useState } from \"react\";\r\n\r\nconst MouseOverRect = ({ children, scrollPos }) => {\r\n  const [rect, setRect] = useState({});\r\n  const [show, setShow] = useState(false);\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setShow(false);\r\n  }, [scrollPos]);\r\n\r\n  return (\r\n    <div\r\n      onMouseMove={(e) => {\r\n        const box = e.target.getBoundingClientRect();\r\n        setRect(box);\r\n        setShow(true);\r\n      }}\r\n      onMouseEnter={() => {\r\n        setShow(true);\r\n      }}\r\n      onMouseLeave={() => {\r\n        setShow(false);\r\n      }}\r\n    >\r\n      {show && (\r\n        <div\r\n          style={{\r\n            position: \"fixed\",\r\n            border: \"1px solid rgba(99, 102, 241, 1.0)\",\r\n            pointerEvents: \"none\",\r\n            left: rect.left,\r\n            top: rect.top,\r\n            height: rect.height,\r\n            width: rect.width,\r\n          }}\r\n        />\r\n      )}\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MouseOverRect;\r\n","import { Context } from \"./../context\";\r\nimport { useContext } from \"react\";\r\nimport * as Icon from \"react-feather\";\r\n\r\nexport default function ActiveFrame({ currentBox, scrollPos }) {\r\n  const {\r\n    currentActive,\r\n    removeElement,\r\n    moveElement,\r\n    cloneElement,\r\n    addChildToElement,\r\n    selectParent,\r\n  } = useContext(Context);\r\n\r\n  const cloneCurrentElement = () => cloneElement(currentActive.id);\r\n  const moveUp = () => moveElement(currentActive.id, -1);\r\n  const moveDown = () => moveElement(currentActive.id, +1);\r\n  const addChild = () => addChildToElement(currentActive.id, \"div\");\r\n  const addText = () => addChildToElement(currentActive.id, false);\r\n  const addImg = () => addChildToElement(currentActive.id, \"img\");\r\n  const deleteElement = () => removeElement(currentActive.id);\r\n  const selectParentEl = () => selectParent(currentActive.id);\r\n\r\n  return (\r\n    <>\r\n      {currentActive && currentActive.id && currentActive.tag && (\r\n        <div\r\n          className=\"border-2 border-indigo-500\"\r\n          style={{\r\n            marginTop: scrollPos * -1,\r\n            position: \"absolute\",\r\n            width: currentBox.width,\r\n            height: currentBox.height,\r\n            left: currentBox.x,\r\n            top: currentBox.y,\r\n            pointerEvents: \"none\",\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              pointerEvents: \"auto\",\r\n              margin: \"-2px\", //negative border\r\n              transform:\r\n                currentBox.y > 20 ? \"translateY(-100%)\" : \"translateY(100%)\",\r\n            }}\r\n            className={\r\n              \"absolute inline-flex \" +\r\n              (currentBox.x > 300 ? \"right-0 \" : \"left-0 \") +\r\n              (currentBox.y > 20 ? \"top-0\" : \"bottom-0\") +\r\n              \" gap-1 text-xs text-white bg-indigo-500\"\r\n            }\r\n          >\r\n            <div className=\"p-1 bg-indigo-600 flex items-center\">\r\n              <button onClick={selectParentEl}>\r\n                <Icon.ArrowUpLeft size={12} />\r\n              </button>\r\n            </div>\r\n            <div className=\"flex p-1\">\r\n              <span\r\n                className=\"mr-2 w-12 overflow-hidden whitespace-nowrap overflow-ellipsis\"\r\n                title={\r\n                  currentActive.tag + \".\" + currentActive.classNames?.join(\".\")\r\n                }\r\n              >\r\n                {currentActive.tag}.{currentActive.classNames?.join(\".\")}\r\n              </span>\r\n              <button onClick={cloneCurrentElement}>\r\n                <Icon.Copy size={12} />\r\n              </button>\r\n              <button onClick={moveUp}>\r\n                <Icon.ArrowUp size={12} />\r\n              </button>\r\n              <button onClick={moveDown}>\r\n                <Icon.ArrowDown size={12} />\r\n              </button>\r\n              <button onClick={deleteElement}>\r\n                <Icon.Trash size={12} />\r\n              </button>\r\n            </div>\r\n            <div class=\"bg-indigo-800 flex p-1\">\r\n              <button\r\n                style={{ pointerEvents: \"auto\" }}\r\n                onClick={addChild}\r\n                className=\"flex items-center\"\r\n              >\r\n                <Icon.Plus size={12} />\r\n                <Icon.Square size={12} />\r\n              </button>\r\n              <button\r\n                style={{ pointerEvents: \"auto\" }}\r\n                onClick={addText}\r\n                className=\"flex items-center\"\r\n              >\r\n                <Icon.Plus size={12} />\r\n                <Icon.Type size={12} />\r\n              </button>\r\n              <button\r\n                style={{ pointerEvents: \"auto\" }}\r\n                onClick={addImg}\r\n                className=\"flex items-center\"\r\n              >\r\n                <Icon.Plus size={12} />\r\n                <Icon.Image size={12} />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\nimport React, { useState } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nexport function EditorIFrame({ children, title, ...props }) {\r\n  const [contentRef, setContentRef] = useState(null);\r\n  const mountNode = contentRef?.contentWindow?.document?.body;\r\n\r\n  useEffect(() => {\r\n    const doc = contentRef?.contentWindow?.document;\r\n    if (doc) {\r\n      doc.addEventListener(\"scroll\", (e) => {\r\n        props.onScroll(mountNode.scrollTop);\r\n      });\r\n    }\r\n  }, [mountNode]);\r\n\r\n  return (\r\n    <iframe title={title} {...props} ref={setContentRef}>\r\n      {mountNode && createPortal(children, mountNode)}\r\n    </iframe>\r\n  );\r\n}\r\n","import { Context } from \"./../context\";\r\nimport { Fragment, useContext, useEffect, useLayoutEffect } from \"react\";\r\nimport MouseOverRect from \"./MouseOverRect\";\r\nimport ContentEditable from \"react-contenteditable\";\r\nimport ActiveFrame from \"./ActiveFrame\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { EditorIFrame } from \"./EditorIFrame\";\r\n\r\nexport default function EditorCanvas(props) {\r\n  const {\r\n    classNames,\r\n    elements,\r\n    currentActive,\r\n    setCurrentActive,\r\n    changeElementText,\r\n  } = useContext(Context);\r\n\r\n  const [ref, setRef] = useState();\r\n  const [currentBox, setCurrentBox] = useState({\r\n    x: 0,\r\n    y: 0,\r\n    width: 0,\r\n    height: 0,\r\n  });\r\n  // for\r\n  const [scrollPos, setScrollPos] = useState(0);\r\n\r\n  useLayoutEffect(() => {\r\n    if (ref) {\r\n      const box = ref.getBoundingClientRect();\r\n      box.y += scrollPos;\r\n      setCurrentBox(box);\r\n    }\r\n  }, [\r\n    ref,\r\n    classNames,\r\n    props.responsiveWidth,\r\n    props.hidePanels,\r\n    elements,\r\n    scrollPos,\r\n  ]);\r\n\r\n  let classNamesCss = \"\";\r\n  classNames.forEach((c) => {\r\n    let properties = \"\";\r\n    if (c.properties) {\r\n      for (let [key, obj] of Object.entries(c.properties)) {\r\n        properties += `${key}: ${obj.value}${obj.unit};\\n`;\r\n      }\r\n    }\r\n    classNamesCss +=\r\n      `.${c.name} { \\n${c.txt} \\n${properties} } \\n` +\r\n      `.${c.name}:hover { ${c[\":hover\"]} } \\n` +\r\n      `.${c.name}::before { ${c[\":before\"]} } \\n` +\r\n      `.${c.name}::after { ${c[\":after\"]} } \\n`;\r\n  });\r\n\r\n  const childElements = (childrenArray) =>\r\n    childrenArray.map((el) => {\r\n      const TagName = el.tag ? el.tag : Fragment;\r\n\r\n      let elClassList = \"\";\r\n      el.classNames &&\r\n        el.classNames.forEach((name) => {\r\n          elClassList += `${name} `;\r\n        });\r\n\r\n      return (\r\n        <Fragment key={el.id}>\r\n          {TagName !== Fragment ? (\r\n            <>\r\n              {TagName !== \"img\" ? (\r\n                <TagName\r\n                  ref={(newRef) => {\r\n                    if (el.id === currentActive?.id) {\r\n                      setRef(newRef);\r\n                    }\r\n                  }}\r\n                  className={el.classNames && elClassList}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    setCurrentActive(el);\r\n                  }}\r\n                >\r\n                  {el.children && childElements(el.children)}\r\n                </TagName>\r\n              ) : (\r\n                <TagName\r\n                  className={el.classNames && elClassList}\r\n                  ref={(newRef) => {\r\n                    if (el.id === currentActive?.id) {\r\n                      setRef(newRef);\r\n                    }\r\n                  }}\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    setCurrentActive(el);\r\n                  }}\r\n                  src={el.src}\r\n                />\r\n              )}\r\n            </>\r\n          ) : (\r\n            <TagName>\r\n              {el.text && (\r\n                <ContentEditable\r\n                  html={el.text}\r\n                  onChange={(e) => {\r\n                    changeElementText(el.id, e.target.value);\r\n                  }}\r\n                  tagName=\"span\"\r\n                ></ContentEditable>\r\n              )}\r\n            </TagName>\r\n          )}\r\n        </Fragment>\r\n      );\r\n    });\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        \"w-full relative overflow-hidden \" +\r\n        (props.responsiveWidth === \"100%\" ? \"border\" : \"m-8\")\r\n      }\r\n    >\r\n      <EditorIFrame\r\n        onScroll={setScrollPos}\r\n        className=\"bg-white shadow-lg max-w-full h-full m-auto\"\r\n        style={{ width: props.responsiveWidth }}\r\n      >\r\n        <link rel=\"stylesheet\" href=\"./reset.css\" />\r\n        {props.hidePanels ? (\r\n          childElements(elements)\r\n        ) : (\r\n          <MouseOverRect scrollPos={scrollPos}>\r\n            {childElements(elements)}\r\n          </MouseOverRect>\r\n        )}\r\n        <style>{classNamesCss}</style>\r\n      </EditorIFrame>\r\n      {\r\n        /* current bounding box */\r\n        !props.hidePanels && (\r\n          <div className=\"absolute w-full h-full top-0 pointer-events-none\">\r\n            <div\r\n              className=\"relative m-auto pointer-events-none\"\r\n              style={{ width: props.responsiveWidth }}\r\n            >\r\n              <ActiveFrame\r\n                currentActive={currentActive}\r\n                currentBox={currentBox}\r\n                scrollPos={scrollPos}\r\n              />\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nexport const Accordion = ({ title, children, isOpen = true }) => {\r\n  const [open, setOpen] = useState(isOpen);\r\n  const openClass = open ? \"block\" : \"hidden\";\r\n  const chevronTransformClass = open ? \"rotate-180\" : \"\";\r\n\r\n  return (\r\n    <div className=\"border-b\">\r\n      <h2 className=\"block\">\r\n        <button\r\n          className=\"block w-full text-left relative text-xs font-bold uppercase tracking-wider p-4\"\r\n          type=\"button\"\r\n          onClick={() => {\r\n            setOpen(!open);\r\n          }}\r\n        >\r\n          {title}\r\n          <span\r\n            className={`absolute right-4 top-4 transition transform ${chevronTransformClass}`}\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              className=\"h-4 w-4\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth=\"2\"\r\n                d=\"M19 9l-7 7-7-7\"\r\n              />\r\n            </svg>\r\n          </span>\r\n        </button>\r\n      </h2>\r\n      <div className={\"px-4 pb-4 \" + openClass}>\r\n        <div>{children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default function BadgeButton({\r\n  onClick,\r\n  onDelete,\r\n  children,\r\n  isActive,\r\n  size = \"md\"\r\n}) {\r\n  const activeClass = isActive\r\n    ? \"bg-indigo-500 text-white\"\r\n    : \"text-gray-700 bg-gray-200\";\r\n\r\n  const sizes = {\r\n    xs: \"text-xs\",\r\n    sm: \"text-sm\",\r\n    md: \"\",\r\n    lg: \"text-lg\"\r\n  };\r\n\r\n  const sizeClass = sizes[size];\r\n\r\n  return (\r\n    <div\r\n      className={`inline-flex rounded px-2 mr-1 mb-1 ${activeClass} ${sizeClass}`}\r\n    >\r\n      <span onClick={onClick}>{children}</span>\r\n      {onDelete && (\r\n        <button className=\"ml-1\" onClick={onDelete}>\r\n          &times;\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import createHTML from \"./createHTML\";\r\n\r\nexport default function exportHTML(state) {\r\n  const svgCode = createHTML(state);\r\n  const blob = new Blob([svgCode], { type: \"text/html\" });\r\n  const url = window.URL.createObjectURL(blob);\r\n  const a = document.createElement(\"a\");\r\n  a.href = url;\r\n  a.download = \"export.html\";\r\n  a.click();\r\n}\r\n","import { Fragment } from \"react\";\r\nimport ReactDOMServer from \"react-dom/server\";\r\nimport { html as beautify } from \"js-beautify\";\r\n\r\nexport default function createHTML({ classNames, elements }) {\r\n  let classNamesCss = \"\";\r\n  classNames.forEach((c) => {\r\n    let properties = \"\";\r\n    if (c.properties) {\r\n      for (let [key, obj] of Object.entries(c.properties)) {\r\n        properties += `${key}: ${obj.value}${obj.unit};\\n`;\r\n      }\r\n    }\r\n    classNamesCss +=\r\n      `.${c.name} { \\n${c.txt} \\n${properties} } \\n` +\r\n      `.${c.name}:hover { ${c[\":hover\"]} } \\n` +\r\n      `.${c.name}::before { ${c[\":before\"]} } \\n` +\r\n      `.${c.name}::after { ${c[\":after\"]} } \\n`;\r\n  });\r\n\r\n  const childElements = (childrenArray) =>\r\n    childrenArray.map((el) => {\r\n      const TagName = el.tag ? el.tag : Fragment;\r\n\r\n      let elClassList = \"\";\r\n      el.classNames &&\r\n        el.classNames.forEach((name) => {\r\n          elClassList += `${name} `;\r\n        });\r\n\r\n      return (\r\n        <>\r\n          {TagName !== Fragment ? (\r\n            <>\r\n              {TagName !== \"img\" ? (\r\n                <TagName className={el.classNames && elClassList}>\r\n                  {el.children && childElements(el.children)}\r\n                </TagName>\r\n              ) : (\r\n                <TagName\r\n                  src={el.src}\r\n                  className={el.classNames && elClassList}\r\n                />\r\n              )}\r\n            </>\r\n          ) : (\r\n            <TagName>{el.text && el.text}</TagName>\r\n          )}\r\n        </>\r\n      );\r\n    });\r\n\r\n  const cssReset = `\r\n  html,\r\n  body {\r\n    font-family: -apple-system, BlinkMacSystemFont, sans-serif;\r\n  }\r\n\r\n  *,\r\n  ::before,\r\n  ::after {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n    border-width: 0;\r\n    border-style: solid;\r\n    border-color: currentColor;\r\n  }`;\r\n  const Main = () => {\r\n    return (\r\n      <>\r\n        {childElements(elements)}\r\n        <style id=\"css-reset\">{cssReset}</style>\r\n        <style>{classNamesCss}</style>\r\n      </>\r\n    );\r\n  };\r\n  return beautify(ReactDOMServer.renderToString(<Main />));\r\n}\r\n","export default function FormGroup({\r\n  onClick,\r\n  value,\r\n  onChange,\r\n  placeholder,\r\n  btnText\r\n}) {\r\n  return (\r\n    <div className=\"flex my-2\">\r\n      <input\r\n        className=\"rounded-l border py-2 px-4 w-48\"\r\n        type=\"text\"\r\n        placeholder={placeholder}\r\n        value={value}\r\n        onKeyDown={(e) => {\r\n          if (e.key === \"Enter\") {\r\n            onClick();\r\n          }\r\n        }}\r\n        onChange={(e) => {\r\n          onChange(e.target.value);\r\n        }}\r\n      />\r\n      <button\r\n        className=\"py-2 px-6 rounded-r border text-indigo-500 border-indigo-500 flex-grow\"\r\n        onClick={onClick}\r\n      >\r\n        {btnText}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport FormGroup from \"./common/FormGroup\";\r\n\r\nconst ALLOWED_TAGS = [\r\n  \"div\",\r\n  \"span\",\r\n  \"ul\",\r\n  \"li\",\r\n  \"nav\",\r\n  \"main\",\r\n  \"a\",\r\n  \"p\",\r\n  \"h1\",\r\n  \"h2\",\r\n  \"h3\",\r\n  \"h4\",\r\n  \"h5\",\r\n];\r\n\r\nexport default function ElementInfos({\r\n  elementSelected,\r\n  text,\r\n  setText,\r\n  changeElementText,\r\n  changeElementTag,\r\n  changeElementSrc,\r\n}) {\r\n  const [tag, setTag] = useState(elementSelected && elementSelected.tag);\r\n  const [src, setSrc] = useState(\r\n    (elementSelected && elementSelected.src) || \"\"\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {elementSelected && elementSelected.tag === false && (\r\n        <FormGroup\r\n          btnText=\"Change Text\"\r\n          value={text}\r\n          onChange={setText}\r\n          onClick={() => {\r\n            changeElementText(elementSelected.id, text);\r\n          }}\r\n        />\r\n      )}\r\n      {elementSelected && elementSelected.tag && (\r\n        <FormGroup\r\n          btnText=\"Change Tag\"\r\n          value={tag}\r\n          onChange={(val) => {\r\n            setTag(val);\r\n          }}\r\n          onClick={() => {\r\n            if (ALLOWED_TAGS.indexOf(tag) > -1) {\r\n              changeElementTag(elementSelected.id, tag);\r\n            } else {\r\n              console.log(\"Error: Allowed Tags: \", ALLOWED_TAGS);\r\n            }\r\n          }}\r\n        />\r\n      )}\r\n      {elementSelected && elementSelected.tag === \"img\" && (\r\n        <FormGroup\r\n          btnText=\"Change Image Source\"\r\n          value={src}\r\n          onChange={(val) => {\r\n            setSrc(val);\r\n          }}\r\n          onClick={() => {\r\n            changeElementSrc(elementSelected.id, src);\r\n          }}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { useState, useRef, useEffect } from \"react\";\r\n\r\n//TODO: add support for min and max values when dragging\r\nexport default function NumberControl(props) {\r\n  const [startValue, setStartValue] = useState(props.value);\r\n  const ref = useRef();\r\n  const { direction } = props;\r\n  let startPos = null;\r\n  const isXDirection = direction === \"x\";\r\n\r\n  const updateMouse = (e) => {\r\n    const clientPos = isXDirection ? e.clientX : e.clientY;\r\n    let newValue;\r\n    if (isXDirection) {\r\n      newValue = -startPos + clientPos + Number(startValue);\r\n    } else {\r\n      newValue = startPos - clientPos + Number(startValue);\r\n    }\r\n\r\n    props.onChange(newValue);\r\n  };\r\n  const mouseUpHandler = (e) => {\r\n    setStartValue(ref.current.value);\r\n    document.removeEventListener(\"mousemove\", updateMouse);\r\n    document.removeEventListener(\"mouseup\", mouseUpHandler);\r\n  };\r\n  const startChange = (e) => {\r\n    const clientPos = direction === \"x\" ? e.clientX : e.clientY;\r\n    startPos = clientPos;\r\n    setStartValue(e.target.value);\r\n    document.addEventListener(\"mousemove\", updateMouse);\r\n    document.addEventListener(\"mouseup\", mouseUpHandler);\r\n  };\r\n\r\n  // don' know why this was here??\r\n  //useEffect(() => {}, [startPos]);\r\n\r\n  useEffect(() => {\r\n    setStartValue(props.value);\r\n  }, [setStartValue, props.value]);\r\n\r\n  return (\r\n    <input\r\n      {...props}\r\n      className=\"w-full\"\r\n      ref={ref}\r\n      type=\"number\"\r\n      value={props.value}\r\n      onMouseDown={startChange}\r\n      onChange={(e) => {\r\n        setStartValue(e.target.value);\r\n        props.onChange(e.target.value);\r\n      }}\r\n      style={{\r\n        cursor: direction === \"x\" ? \"ew-resize\" : \"ns-resize\",\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import NumberControl from \"./common/NumberControl\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { ContextConsumer } from \"../context\";\r\n\r\nexport default function CssPropertyInput({\r\n  propertyName,\r\n  cssClass,\r\n  label,\r\n  direction,\r\n  hasUnit = true,\r\n\r\n  ...props\r\n}) {\r\n  const startValue = cssClass?.properties?.[propertyName]?.value || \"\";\r\n  const [property, setProperty] = useState(startValue);\r\n  let startUnit;\r\n  if (hasUnit) {\r\n    startUnit = cssClass?.properties?.[propertyName]?.unit || \"px\";\r\n  } else {\r\n    startUnit = \"\";\r\n  }\r\n\r\n  const [unit, setUnit] = useState(startUnit);\r\n\r\n  useEffect(() => {\r\n    setProperty(startValue);\r\n    setUnit(startUnit);\r\n  }, [cssClass, propertyName, startUnit, startValue]);\r\n\r\n  return (\r\n    <ContextConsumer>\r\n      {({ updateClassProperty }) => (\r\n        <div className=\"border rounded p-2 my-1\">\r\n          <label className=\"text-xs block text-gray-400\">{label}</label>\r\n          <div className=\"flex\">\r\n            <NumberControl\r\n              direction={direction}\r\n              value={property}\r\n              onChange={(val) => {\r\n                setProperty(val);\r\n                updateClassProperty(cssClass, propertyName, val, unit);\r\n              }}\r\n              {...props}\r\n            />\r\n            {hasUnit && (\r\n              <select\r\n                className=\"text-xs text-gray-400 appearance-none w-4\"\r\n                value={unit}\r\n                onChange={(e) => {\r\n                  setUnit(e.target.value);\r\n                  if (e.target.value === \"auto\") {\r\n                    setProperty(\"\");\r\n                    updateClassProperty(\r\n                      cssClass,\r\n                      propertyName,\r\n                      \"\",\r\n                      e.target.value\r\n                    );\r\n                  } else {\r\n                    updateClassProperty(\r\n                      cssClass,\r\n                      propertyName,\r\n                      property,\r\n                      e.target.value\r\n                    );\r\n                  }\r\n                }}\r\n              >\r\n                {[\"px\", \"%\", \"em\", \"rem\", \"vh\", \"vw\", \"auto\"].map((u) => (\r\n                  <option key={u} value={u}>\r\n                    {u}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </ContextConsumer>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { ContextConsumer } from \"../context\";\r\n\r\nexport default function CssPropertyInput({ propertyName, cssClass, label }) {\r\n  const startValue = cssClass?.properties?.[propertyName]?.value || \"\";\r\n  const [property, setProperty] = useState(startValue);\r\n\r\n  useEffect(() => {\r\n    setProperty(startValue);\r\n  }, [cssClass, startValue]);\r\n\r\n  return (\r\n    <ContextConsumer>\r\n      {({ updateClassProperty }) => (\r\n        <div className=\"border rounded p-2 my-1 w-full\">\r\n          <label className=\"text-xs block text-gray-400\">\r\n            {label}\r\n            <button\r\n              className=\"ml-2\"\r\n              onClick={() => {\r\n                setProperty(\"\");\r\n                updateClassProperty(cssClass, propertyName, \"\");\r\n              }}\r\n            >\r\n              &times;\r\n            </button>\r\n          </label>\r\n          <input\r\n            className=\"w-5 h-5 rounded-full border-0\"\r\n            type=\"color\"\r\n            value={property}\r\n            onChange={(e) => {\r\n              const val = e.target.value;\r\n              setProperty(val);\r\n              updateClassProperty(cssClass, propertyName, val);\r\n            }}\r\n          />\r\n        </div>\r\n      )}\r\n    </ContextConsumer>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { ContextConsumer } from \"../context\";\r\nimport BadgeButton from \"./common/BadgeButton\";\r\n\r\nexport default function CssPropertyButtonGroup({\r\n  propertyName,\r\n  cssClass,\r\n  options,\r\n  label,\r\n}) {\r\n  const startValue = cssClass?.properties?.[propertyName]?.value || 0;\r\n  const [property, setProperty] = useState(startValue);\r\n\r\n  useEffect(() => {\r\n    setProperty(startValue);\r\n  }, [cssClass, startValue]);\r\n\r\n  return (\r\n    <ContextConsumer>\r\n      {({ updateClassProperty }) => (\r\n        <div>\r\n          {label && <p className=\"text-xs\">{label}</p>}\r\n          {options.map((option) => (\r\n            <BadgeButton\r\n              size=\"sm\"\r\n              isActive={option === property}\r\n              value={property}\r\n              onClick={() => {\r\n                const newValue = option === property ? \"\" : option;\r\n                setProperty(newValue);\r\n                updateClassProperty(cssClass, propertyName, newValue);\r\n              }}\r\n            >\r\n              {option}\r\n            </BadgeButton>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </ContextConsumer>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { ContextConsumer } from \"../context\";\r\nimport BadgeButton from \"./common/BadgeButton\";\r\n\r\nexport default function CssPropertyIconButtonGroup({\r\n  propertyName,\r\n  cssClass,\r\n  options,\r\n  label,\r\n}) {\r\n  const startValue = cssClass?.properties?.[propertyName]?.value || 0;\r\n  const [property, setProperty] = useState(startValue);\r\n\r\n  useEffect(() => {\r\n    setProperty(startValue);\r\n  }, [cssClass, startValue]);\r\n\r\n  return (\r\n    <ContextConsumer>\r\n      {({ updateClassProperty }) => (\r\n        <>\r\n          {label && <p className=\"text-xs text-gray-400 mb-1\">{label}</p>}\r\n          <div className=\"flex gap-2\">\r\n            {options.map((option) => (\r\n              <button\r\n                title={label || propertyName}\r\n                className={\r\n                  \"p-1 border rounded my-1 \" +\r\n                  (option.value === property\r\n                    ? \"bg-indigo-500 text-white\"\r\n                    : \"text-gray-700\")\r\n                }\r\n                onClick={() => {\r\n                  const newValue =\r\n                    option.value === property ? \"\" : option.value;\r\n                  setProperty(newValue);\r\n                  updateClassProperty(cssClass, propertyName, newValue);\r\n                }}\r\n              >\r\n                {option.icon}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </ContextConsumer>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { ContextConsumer } from \"../context\";\r\n\r\nexport default function CssPropertyTextInput({\r\n  propertyName,\r\n  cssClass,\r\n  label,\r\n}) {\r\n  const startValue = cssClass?.properties?.[propertyName]?.value || \"\";\r\n  const [property, setProperty] = useState(startValue);\r\n\r\n  useEffect(() => {\r\n    setProperty(startValue);\r\n  }, [cssClass, startValue]);\r\n\r\n  return (\r\n    <ContextConsumer>\r\n      {({ updateClassProperty }) => (\r\n        <div className=\"border rounded p-2 my-1 w-full\">\r\n          <label className=\"text-xs block text-gray-400\">\r\n            {label}\r\n            <button\r\n              className=\"ml-2\"\r\n              onClick={() => {\r\n                setProperty(\"\");\r\n                updateClassProperty(cssClass, propertyName, \"\");\r\n              }}\r\n            >\r\n              &times;\r\n            </button>\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={property}\r\n            onChange={(e) => {\r\n              const val = e.target.value;\r\n              setProperty(val);\r\n              updateClassProperty(cssClass, propertyName, val);\r\n            }}\r\n          />\r\n        </div>\r\n      )}\r\n    </ContextConsumer>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { ContextConsumer } from \"../context\";\r\n\r\nexport default function CssPropertySelect({\r\n  propertyName,\r\n  cssClass,\r\n  options,\r\n  label,\r\n}) {\r\n  const startValue = cssClass?.properties?.[propertyName]?.value || \"\";\r\n  const [property, setProperty] = useState(startValue);\r\n\r\n  useEffect(() => {\r\n    setProperty(startValue);\r\n  }, [cssClass, startValue]);\r\n\r\n  return (\r\n    <ContextConsumer>\r\n      {({ updateClassProperty }) => (\r\n        <>\r\n          <select\r\n            className=\"p-1 border rounded my-1 text-gray-700 text-sm\"\r\n            value={property}\r\n            onChange={(e) => {\r\n              setProperty(e.target.value);\r\n              updateClassProperty(cssClass, propertyName, e.target.value);\r\n            }}\r\n          >\r\n            <option disabled value=\"\">\r\n              {label}\r\n            </option>\r\n            {options.map((option) => (\r\n              <option value={option.value}>{option.label}</option>\r\n            ))}\r\n          </select>\r\n        </>\r\n      )}\r\n    </ContextConsumer>\r\n  );\r\n}\r\n","import CssPropertyInput from \"./CssPropertyInput\";\r\nimport CssPropertyColorInput from \"./CssPropertyColorInput\";\r\nimport CssPropertyButtonGroup from \"./CssPropertyButtonGroup\";\r\nimport CssPropertyIconButtonGroup from \"./CssPropertyIconButtonGroup\";\r\nimport CssPropertyTextInput from \"./CssPropertyTextInput\";\r\nimport { Accordion } from \"./common/Accordion\";\r\n\r\n//Icons\r\nimport * as Icon from \"react-feather\";\r\nimport {\r\n  Icon as WPIcon,\r\n  formatStrikethrough,\r\n  formatItalic,\r\n  formatUnderline,\r\n  formatUppercase,\r\n  formatLowercase,\r\n  formatCapitalize,\r\n  justifyCenter,\r\n  justifySpaceBetween,\r\n  justifyLeft,\r\n  justifyRight,\r\n  alignLeft,\r\n  alignCenter,\r\n  alignRight,\r\n  columns,\r\n} from \"@wordpress/icons\";\r\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\r\nimport CssPropertySelect from \"./CssPropertySelect\";\r\n\r\nconst dimensionProperties = [\r\n  { name: \"width\", label: \"Width\", direction: \"x\" },\r\n  { name: \"height\", label: \"Height\", direction: \"y\" },\r\n];\r\n\r\nconst dimensionMinMaxProperties = [\r\n  { name: \"min-width\", label: \"Min W\", direction: \"x\" },\r\n  { name: \"min-height\", label: \"Min H\", direction: \"y\" },\r\n  { name: \"max-width\", label: \"Max W\", direction: \"x\" },\r\n  { name: \"max-height\", label: \"Max H\", direction: \"y\" },\r\n];\r\n\r\nconst fontProperties = [\r\n  { name: \"font-size\", label: \"Font Size\", direction: \"y\" },\r\n  { name: \"line-height\", label: \"Line\", direction: \"y\" },\r\n  { name: \"letter-spacing\", label: \"Spacing\", direction: \"y\" },\r\n];\r\n\r\nconst textAlignProperty = {\r\n  name: \"text-align\",\r\n  options: [\r\n    {\r\n      value: \"left\",\r\n      icon: <WPIcon fill=\"currentColor\" icon={alignLeft} size={20} />,\r\n    },\r\n    {\r\n      value: \"center\",\r\n      icon: <WPIcon fill=\"currentColor\" icon={alignCenter} size={20} />,\r\n    },\r\n    {\r\n      value: \"right\",\r\n      icon: <WPIcon fill=\"currentColor\" icon={alignRight} size={20} />,\r\n    },\r\n  ],\r\n};\r\n\r\nconst fontStyleProperty = {\r\n  name: \"font-style\",\r\n  options: [\r\n    /** TODO: Do i need this?\r\n    { value: \"normal\", icon: <Icon.X size={20} /> }, */\r\n    {\r\n      value: \"italic\",\r\n      icon: <WPIcon fill=\"currentColor\" icon={formatItalic} size={20} />,\r\n    },\r\n  ],\r\n};\r\n\r\nconst textDecorationProperty = {\r\n  name: \"text-decoration\",\r\n  options: [\r\n    /** TODO: Do I need this? \r\n    { value: \"none\", icon: <Icon.X size={20} /> },*/\r\n    {\r\n      value: \"underline\",\r\n      icon: <WPIcon fill=\"currentColor\" icon={formatUnderline} size={20} />,\r\n    },\r\n    {\r\n      value: \"line-through\",\r\n      icon: <WPIcon fill=\"currentColor\" icon={formatStrikethrough} size={20} />,\r\n    },\r\n  ],\r\n};\r\n\r\nconst textTransformProperty = {\r\n  name: \"text-transform\",\r\n  options: [\r\n    /** TODO: Do I need this? \r\n    { value: \"none\", icon: <Icon.X size={20} /> },*/\r\n    {\r\n      value: \"uppercase\",\r\n      icon: <WPIcon fill=\"currentColor\" icon={formatUppercase} size={20} />,\r\n    },\r\n    {\r\n      value: \"lowercase\",\r\n      icon: <WPIcon fill=\"currentColor\" icon={formatLowercase} size={20} />,\r\n    },\r\n    {\r\n      value: \"capitalize\",\r\n      icon: <WPIcon fill=\"currentColor\" icon={formatCapitalize} size={20} />,\r\n    },\r\n  ],\r\n};\r\n\r\nconst fontFamilyProperty = { name: \"font-family\", label: \"Font Family\" };\r\n\r\nconst fontColorProperty = { name: \"color\", label: \"Text Color\" };\r\n\r\nconst fontWeightProperty = {\r\n  name: \"font-weight\",\r\n  label: \"Font Weight\",\r\n  options: [\r\n    { value: \"100\", label: \"Thin\" },\r\n    { value: \"200\", label: \"Extra Light\" },\r\n    { value: \"300\", label: \"Light\" },\r\n    { value: \"400\", label: \"Regular\" },\r\n    { value: \"500\", label: \"Medium\" },\r\n    { value: \"600\", label: \"Semi Bold\" },\r\n    { value: \"700\", label: \"Bold\" },\r\n    { value: \"800\", label: \"Extra Bold\" },\r\n    { value: \"900\", label: \"Black\" },\r\n  ],\r\n};\r\n\r\nconst PaddingProperties = [\r\n  { name: \"padding-top\", label: \"Top\", direction: \"y\" },\r\n  { name: \"padding-right\", label: \"Right\", direction: \"x\" },\r\n  { name: \"padding-bottom\", label: \"Bottom\", direction: \"y\" },\r\n  { name: \"padding-left\", label: \"Left\", direction: \"x\" },\r\n];\r\n\r\nconst marginProperties = [\r\n  { name: \"margin-top\", label: \"Top\", direction: \"y\" },\r\n  { name: \"margin-right\", label: \"Right\", direction: \"x\" },\r\n  { name: \"margin-bottom\", label: \"Bottom\", direction: \"y\" },\r\n  { name: \"margin-left\", label: \"Left\", direction: \"x\" },\r\n];\r\n\r\nconst borderWidthProperties = [\r\n  { name: \"border-top-width\", label: \"Top\", direction: \"y\" },\r\n  { name: \"border-right-width\", label: \"Right\", direction: \"x\" },\r\n  { name: \"border-bottom-width\", label: \"Bottom\", direction: \"y\" },\r\n  { name: \"border-left-width\", label: \"Left\", direction: \"x\" },\r\n];\r\n\r\nconst borderRadiusProperties = [\r\n  { name: \"border-top-left-radius\", label: \"Top Left\" },\r\n  { name: \"border-top-right-radius\", label: \"Top Right\" },\r\n  { name: \"border-bottom-right-radius\", label: \"B. Right\" },\r\n  { name: \"border-bottom-left-radius\", label: \"B. Left\" },\r\n];\r\n\r\nconst borderColorProperty = { name: \"border-color\", label: \"Border Color\" };\r\n\r\nconst colorProperties = [{ name: \"background-color\", label: \"Background C.\" }];\r\n\r\nconst positionProperty = {\r\n  name: \"position\",\r\n  options: [\"static\", \"relative\", \"absolute\", \"fixed\", \"sticky\"],\r\n};\r\n\r\nconst positionDirectionProperties = [\r\n  { name: \"top\", label: \"Top\", direction: \"y\" },\r\n  { name: \"right\", label: \"Right\", direction: \"x\" },\r\n  { name: \"bottom\", label: \"Bottom\", direction: \"y\" },\r\n  { name: \"left\", label: \"Left\", direction: \"x\" },\r\n];\r\n\r\nconst displayProperty = {\r\n  name: \"display\",\r\n  options: [\"flex\", \"inline-flex\", \"block\", \"inline-block\", \"inline\"],\r\n};\r\n\r\nconst justifyContentProperty = {\r\n  name: \"justify-content\",\r\n  options: [\r\n    {\r\n      value: \"flex-start\",\r\n      icon: <WPIcon fill=\"currentColor\" icon={justifyLeft} size={20} />,\r\n    },\r\n    {\r\n      value: \"center\",\r\n      icon: <WPIcon fill=\"currentColor\" icon={justifyCenter} size={20} />,\r\n    },\r\n    {\r\n      value: \"flex-end\",\r\n      icon: <WPIcon fill=\"currentColor\" icon={justifyRight} size={20} />,\r\n    },\r\n    {\r\n      value: \"space-between\",\r\n      icon: <WPIcon fill=\"currentColor\" icon={justifySpaceBetween} size={20} />,\r\n    },\r\n    /* I don't have a icon for this and you probably wont need it anyway...\r\n    {\r\n      value: \"space-around\",\r\n      icon: <WPIcon icon={justifySpaceBetween} size={20} />,\r\n    },*/\r\n  ],\r\n};\r\n\r\nconst alignItemsProperty = {\r\n  name: \"align-items\",\r\n  options: [\r\n    {\r\n      value: \"flex-start\",\r\n      icon: (\r\n        <WPIcon\r\n          fill=\"currentColor\"\r\n          className=\"transform rotate-90\"\r\n          icon={justifyLeft}\r\n          size={20}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      value: \"center\",\r\n      icon: (\r\n        <WPIcon\r\n          fill=\"currentColor\"\r\n          className=\"transform rotate-90\"\r\n          icon={justifyCenter}\r\n          size={20}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      value: \"flex-end\",\r\n      icon: (\r\n        <WPIcon\r\n          fill=\"currentColor\"\r\n          className=\"transform rotate-90\"\r\n          icon={justifyRight}\r\n          size={20}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      value: \"stretch\",\r\n      icon: <WPIcon fill=\"currentColor\" icon={columns} size={20} />,\r\n    },\r\n  ],\r\n};\r\n\r\nconst flexProperties = [\r\n  {\r\n    name: \"flex-wrap\",\r\n    options: [\r\n      { value: \"no-wrap\", icon: <Icon.X size={20} /> },\r\n      { value: \"wrap\", icon: <Icon.Check size={20} /> },\r\n    ],\r\n  },\r\n  {\r\n    name: \"flex-grow\",\r\n    options: [\r\n      { value: \"0\", icon: <Icon.X size={20} /> },\r\n      { value: \"1\", icon: <Icon.Check size={20} /> },\r\n    ],\r\n  },\r\n  {\r\n    name: \"flex-shrink\",\r\n    options: [\r\n      { value: \"0\", icon: <Icon.X size={20} /> },\r\n      { value: \"1\", icon: <Icon.Check size={20} /> },\r\n    ],\r\n  },\r\n];\r\n\r\nconst imageProperties = [\r\n  {\r\n    name: \"object-fit\",\r\n    options: [\r\n      { value: \"none\", icon: <Icon.X size=\"20\" /> },\r\n      {\r\n        value: \"fill\",\r\n        icon: (\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"20\"\r\n            height=\"20\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n            fill=\"none\"\r\n          >\r\n            <path\r\n              d=\" M 3 4 L 3 4 L 3 4 L 3 4 L 3 4\"\r\n              stroke-width=\"2\"\r\n              stroke-linejoin=\"miter\"\r\n              stroke-linecap=\"butt\"\r\n              fill=\"none\"\r\n            ></path>\r\n            <path\r\n              d=\" M 2 5 L 2 19 L 22 19 L 22 5 L 2 5 Z\"\r\n              stroke-width=\"2\"\r\n              stroke-linejoin=\"miter\"\r\n              stroke-linecap=\"butt\"\r\n              fill=\"none\"\r\n            ></path>\r\n            <path\r\n              d=\" M 5 8 L 5 16 L 19 16 L 19 8 L 5 8 Z\"\r\n              stroke-width=\"2\"\r\n              stroke-linejoin=\"miter\"\r\n              stroke-linecap=\"butt\"\r\n              fill=\"currentColor\"\r\n            ></path>\r\n          </svg>\r\n        ),\r\n      },\r\n      {\r\n        value: \"cover\",\r\n        icon: (\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"20\"\r\n            height=\"20\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n            fill=\"none\"\r\n          >\r\n            <path\r\n              d=\" M 2 6 L 2 18 L 22 18 L 22 6 L 2 6 Z\"\r\n              stroke-width=\"2\"\r\n              stroke-linejoin=\"miter\"\r\n              stroke-linecap=\"butt\"\r\n              fill=\"none\"\r\n            ></path>\r\n            <path\r\n              d=\" M 18 2 L 6 2 L 6 22 L 18 22 L 18 2 Z\"\r\n              stroke-width=\"2\"\r\n              stroke-linejoin=\"miter\"\r\n              stroke-linecap=\"butt\"\r\n              fill=\"none\"\r\n            ></path>\r\n            <path\r\n              d=\" M 6 6 L 6 18 L 18 18 L 18 6 L 6 6 Z\"\r\n              stroke-width=\"0\"\r\n              stroke-linejoin=\"miter\"\r\n              stroke-linecap=\"butt\"\r\n              fill=\"currentColor\"\r\n            ></path>\r\n          </svg>\r\n        ),\r\n      },\r\n      {\r\n        value: \"contain\",\r\n        icon: (\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"20\"\r\n            height=\"20\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n            fill=\"none\"\r\n          >\r\n            <path\r\n              d=\" M 3 3 L 3 21 L 21 21 L 21 3 L 3 3 Z\"\r\n              stroke-width=\"2\"\r\n              stroke-linejoin=\"miter\"\r\n              stroke-linecap=\"butt\"\r\n              fill=\"none\"\r\n            ></path>\r\n            <path\r\n              d=\" M 2 7 L 2 17 L 22 17 L 22 7 L 2 7 Z\"\r\n              stroke-width=\"0\"\r\n              stroke-linejoin=\"miter\"\r\n              stroke-linecap=\"butt\"\r\n              fill=\"currentColor\"\r\n            ></path>\r\n          </svg>\r\n        ),\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nconst visbilityProperties = [\r\n  {\r\n    name: \"visibility\",\r\n    label: \"Visibility\",\r\n    options: [{ value: \"hidden\", icon: <Icon.EyeOff size={20} /> }],\r\n  },\r\n  {\r\n    name: \"overflow-y\",\r\n    label: \"Overflow Y\",\r\n    options: [\r\n      { value: \"hidden\", icon: <Icon.EyeOff size={20} /> },\r\n      { value: \"scroll\", icon: <Icon.ArrowDown size={20} /> },\r\n    ],\r\n  },\r\n  {\r\n    name: \"overflow-x\",\r\n    label: \"Overflow X\",\r\n    options: [\r\n      { value: \"hidden\", icon: <Icon.EyeOff size={20} /> },\r\n      { value: \"scroll\", icon: <Icon.ArrowRight size={20} /> },\r\n    ],\r\n  },\r\n];\r\n\r\nconst opacityProperty = {\r\n  name: \"opacity\",\r\n  label: \"Opacity\",\r\n};\r\n\r\nexport default function CssProperties({ cssClass, elementSelected }) {\r\n  return (\r\n    <div>\r\n      <Accordion title=\"Basic\" isOpen={true}>\r\n        <div className=\"flex gap-2\">\r\n          {colorProperties.map((p) => (\r\n            <CssPropertyColorInput\r\n              key={p.name}\r\n              propertyName={p.name}\r\n              label={p.label}\r\n              cssClass={cssClass}\r\n            />\r\n          ))}\r\n          {dimensionProperties.map((p) => (\r\n            <CssPropertyInput\r\n              key={p.name}\r\n              direction={p.direction}\r\n              propertyName={p.name}\r\n              label={p.label}\r\n              cssClass={cssClass}\r\n            />\r\n          ))}\r\n        </div>\r\n        <div className=\"flex gap-2 mb-3\">\r\n          {dimensionMinMaxProperties.map((p) => (\r\n            <CssPropertyInput\r\n              key={p.name}\r\n              direction={p.direction}\r\n              propertyName={p.name}\r\n              label={p.label}\r\n              cssClass={cssClass}\r\n            />\r\n          ))}\r\n        </div>\r\n      </Accordion>\r\n      {elementSelected.tag === \"img\" && (\r\n        <Accordion title=\"Image Settings\" isOpen={true}>\r\n          {imageProperties.map((p) => (\r\n            <div key={p.name}>\r\n              <CssPropertyIconButtonGroup\r\n                propertyName={p.name}\r\n                label={p.name}\r\n                options={p.options}\r\n                cssClass={cssClass}\r\n              />\r\n            </div>\r\n          ))}\r\n        </Accordion>\r\n      )}\r\n      <Accordion title=\"Typography\" isOpen={true}>\r\n        <div className=\"mb-3\">\r\n          <div className=\"flex gap-2\">\r\n            <CssPropertyTextInput\r\n              propertyName={fontFamilyProperty.name}\r\n              label={fontFamilyProperty.label}\r\n              cssClass={cssClass}\r\n            />\r\n            <CssPropertyColorInput\r\n              propertyName={fontColorProperty.name}\r\n              label={fontColorProperty.label}\r\n              cssClass={cssClass}\r\n            />\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            {fontProperties.map((p) => (\r\n              <CssPropertyInput\r\n                key={p.name}\r\n                direction={p.direction}\r\n                propertyName={p.name}\r\n                label={p.label}\r\n                cssClass={cssClass}\r\n              />\r\n            ))}\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <CssPropertySelect\r\n              propertyName={fontWeightProperty.name}\r\n              label={fontWeightProperty.label}\r\n              options={fontWeightProperty.options}\r\n              cssClass={cssClass}\r\n            />\r\n            <CssPropertyIconButtonGroup\r\n              propertyName={textAlignProperty.name}\r\n              options={textAlignProperty.options}\r\n              cssClass={cssClass}\r\n            />\r\n            <CssPropertyIconButtonGroup\r\n              propertyName={fontStyleProperty.name}\r\n              options={fontStyleProperty.options}\r\n              cssClass={cssClass}\r\n            />\r\n          </div>\r\n          <div class=\"flex gap-2\">\r\n            <CssPropertyIconButtonGroup\r\n              propertyName={textTransformProperty.name}\r\n              options={textTransformProperty.options}\r\n              cssClass={cssClass}\r\n            />\r\n            <CssPropertyIconButtonGroup\r\n              propertyName={textDecorationProperty.name}\r\n              options={textDecorationProperty.options}\r\n              cssClass={cssClass}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Accordion>\r\n      <Accordion title=\"Position\" isOpen={false}>\r\n        <div className=\"flex gap-2\">\r\n          <CssPropertyButtonGroup\r\n            propertyName={positionProperty.name}\r\n            options={positionProperty.options}\r\n            cssClass={cssClass}\r\n          />\r\n        </div>\r\n        <div className=\"flex gap-2 mb-3\">\r\n          {positionDirectionProperties.map((p) => (\r\n            <CssPropertyInput\r\n              key={p.name}\r\n              direction={p.direction}\r\n              propertyName={p.name}\r\n              label={p.label}\r\n              cssClass={cssClass}\r\n            />\r\n          ))}\r\n        </div>\r\n      </Accordion>\r\n      <Accordion title=\"Layout\" isOpen={false}>\r\n        <div className=\"mb-3\">\r\n          <CssPropertyButtonGroup\r\n            propertyName={displayProperty.name}\r\n            options={displayProperty.options}\r\n            cssClass={cssClass}\r\n          />\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <div className=\"mb-3\">\r\n            <p className=\"text-sm mb-2\">\r\n              Justify <span className=\"text-xs text-gray-400\">(Flex only)</span>\r\n            </p>\r\n\r\n            <CssPropertyIconButtonGroup\r\n              propertyName={justifyContentProperty.name}\r\n              options={justifyContentProperty.options}\r\n              cssClass={cssClass}\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <p className=\"text-sm mb-2\">\r\n              Align <span className=\"text-xs text-gray-400\">(Flex only)</span>\r\n            </p>\r\n            <CssPropertyIconButtonGroup\r\n              propertyName={alignItemsProperty.name}\r\n              options={alignItemsProperty.options}\r\n              cssClass={cssClass}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"flex mb-3\">\r\n          {flexProperties.map((p) => (\r\n            <div className=\"w-1/3\" key={p.name}>\r\n              <CssPropertyIconButtonGroup\r\n                propertyName={p.name}\r\n                label={p.name}\r\n                options={p.options}\r\n                cssClass={cssClass}\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Accordion>\r\n      <Accordion title=\"Spacing\" isOpen={false}>\r\n        <p className=\"text-sm mb-2\">Padding</p>\r\n        <div className=\"flex gap-2 mb-3\">\r\n          {PaddingProperties.map((p) => (\r\n            <CssPropertyInput\r\n              key={p.name}\r\n              direction={p.direction}\r\n              propertyName={p.name}\r\n              label={p.label}\r\n              cssClass={cssClass}\r\n            />\r\n          ))}\r\n        </div>\r\n        <p className=\"text-sm mb-2\">Margin</p>\r\n        <div className=\"flex gap-2 mb-3\">\r\n          {marginProperties.map((p) => (\r\n            <CssPropertyInput\r\n              key={p.name}\r\n              direction={p.direction}\r\n              propertyName={p.name}\r\n              label={p.label}\r\n              cssClass={cssClass}\r\n            />\r\n          ))}\r\n        </div>\r\n      </Accordion>\r\n      <Accordion title=\"Border\" isOpen={false}>\r\n        <CssPropertyColorInput\r\n          propertyName={borderColorProperty.name}\r\n          label={borderColorProperty.label}\r\n          cssClass={cssClass}\r\n        />\r\n        <p className=\"text-sm mb-2\">Border Radius</p>\r\n        <div className=\"flex gap-2 mb-3\">\r\n          {borderRadiusProperties.map((p) => (\r\n            <CssPropertyInput\r\n              key={p.name}\r\n              direction={p.direction}\r\n              propertyName={p.name}\r\n              label={p.label}\r\n              cssClass={cssClass}\r\n            />\r\n          ))}\r\n        </div>\r\n        <p className=\"text-sm mb-2\">Border Width</p>\r\n        <div className=\"flex gap-2 mb-3\">\r\n          {borderWidthProperties.map((p) => (\r\n            <CssPropertyInput\r\n              key={p.name}\r\n              direction={p.direction}\r\n              propertyName={p.name}\r\n              label={p.label}\r\n              cssClass={cssClass}\r\n            />\r\n          ))}\r\n        </div>\r\n      </Accordion>\r\n      <Accordion title=\"Visibility\" isOpen={false}>\r\n        <div class=\"flex gap-2\">\r\n          {visbilityProperties.map((p) => (\r\n            <div>\r\n              <CssPropertyIconButtonGroup\r\n                label={p.name}\r\n                propertyName={p.name}\r\n                options={p.options}\r\n                cssClass={cssClass}\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <CssPropertyInput\r\n          propertyName={opacityProperty.name}\r\n          label={opacityProperty.label}\r\n          cssClass={cssClass}\r\n          hasUnit={false}\r\n          step=\"0.1\"\r\n          min=\"0\"\r\n          max=\"1\"\r\n        />\r\n      </Accordion>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useRef, useEffect } from \"react\";\r\n\r\nexport default function BadgeAddInput({ onAdd, size = \"md\" }) {\r\n  const [active, setActive] = useState(false);\r\n  const [text, setText] = useState(\"\");\r\n  const inputRef = useRef();\r\n\r\n  const activate = () => {\r\n    setActive(true);\r\n  };\r\n\r\n  const deactivate = () => {\r\n    setActive(false);\r\n  };\r\n\r\n  const updateText = (e) => {\r\n    setText(e.target.value);\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    if (text !== \"\") {\r\n      onAdd(text);\r\n    }\r\n    setText(\"\");\r\n    inputRef.current.blur();\r\n    deactivate();\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      handleAdd();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (active) inputRef.current.focus();\r\n  }, [active]);\r\n\r\n  const sizes = {\r\n    xs: \"text-xs\",\r\n    sm: \"text-sm\",\r\n    md: \"\",\r\n    lg: \"text-lg\"\r\n  };\r\n\r\n  const sizeClass = sizes[size];\r\n\r\n  return (\r\n    <div\r\n      className={`inline-block rounded mr-1 mb-1 bg-indigo-500 text-white ${sizeClass}`}\r\n    >\r\n      {!active ? (\r\n        <button className=\"px-2\" onClick={activate}>\r\n          +\r\n        </button>\r\n      ) : (\r\n        <input\r\n          className=\"bg-transparent w-auto px-2\"\r\n          ref={inputRef}\r\n          value={text}\r\n          onChange={updateText}\r\n          onKeyDown={handleKeyDown}\r\n          onBlur={handleAdd}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { ContextConsumer } from \"../context\";\r\nimport FormGroup from \"./common/FormGroup\";\r\nimport BadgeAddInput from \"./common/BadgeAddInput\";\r\nimport { SelectClassContext } from \"./InspectorPanel\";\r\n\r\nexport default function AddClassInput({ classNameRecieverEl, selectClass }) {\r\n  return (\r\n    <>\r\n      <ContextConsumer>\r\n        {({ addClassToElement, getClassByName }) => (\r\n          <BadgeAddInput\r\n            onAdd={(newClassName) => {\r\n              addClassToElement(classNameRecieverEl.id, newClassName);\r\n              selectClass(getClassByName(newClassName));\r\n            }}\r\n            size=\"lg\"\r\n          />\r\n        )}\r\n      </ContextConsumer>\r\n    </>\r\n  );\r\n}\r\n","import hljs from \"highlight.js\";\r\nimport \"highlight.js/styles/a11y-dark.css\";\r\nimport Editor from \"react-simple-code-editor\";\r\nimport CssProperties from \"./CssProperties\";\r\nimport BadgeButton from \"./common/BadgeButton\";\r\nimport AddClassInput from \"./AddClassInput\";\r\nimport { Accordion } from \"./common/Accordion\";\r\n\r\nexport default function CssEditor({\r\n  elementSelected,\r\n  addClassName,\r\n  cssClass,\r\n  classNames,\r\n  selectClass,\r\n  setPseudo,\r\n  pseudo,\r\n  selectPseudo,\r\n  val,\r\n  setVal,\r\n  updatePseudoClass,\r\n  updateClassText,\r\n  removeClassFromElement,\r\n}) {\r\n  const highlight = (txt) => {\r\n    return hljs.highlight(txt, { language: \"css\" }).value;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"p-3 border-b\">\r\n        <p className=\"text-xs font-bold uppercase tracking-wider mb-3\">\r\n          Classes\r\n        </p>\r\n        {elementSelected?.classNames &&\r\n          elementSelected.classNames.map((n) => (\r\n            <BadgeButton\r\n              key={n}\r\n              size=\"lg\"\r\n              isActive={n === cssClass?.name ? true : false}\r\n              onClick={() => {\r\n                // find class\r\n                const c = classNames.find((cn) => cn.name === n);\r\n                if (c) {\r\n                  selectClass(c);\r\n                } else {\r\n                  addClassName(n);\r\n                }\r\n              }}\r\n              onDelete={() => removeClassFromElement(elementSelected.id, n)}\r\n            >\r\n              .{n}\r\n            </BadgeButton>\r\n          ))}\r\n        {elementSelected && (\r\n          <AddClassInput\r\n            classNameRecieverEl={elementSelected}\r\n            selectClass={selectClass}\r\n          />\r\n        )}\r\n      </div>\r\n      {cssClass && elementSelected?.classNames?.length > 0 && (\r\n        <>\r\n          <CssProperties\r\n            cssClass={cssClass}\r\n            elementSelected={elementSelected}\r\n          />\r\n          <Accordion title=\"Additional CSS\" isOpen={false}>\r\n            {cssClass && (\r\n              <div className=\"text-sm mb-2\">\r\n                <span\r\n                  className={`rounded inline-block ${\r\n                    pseudo === \"\" ? \"bg-gray-400\" : \"bg-gray-200\"\r\n                  } px-2 mr-1 mb-1`}\r\n                  onClick={() => {\r\n                    const c = classNames.find(\r\n                      (cn) => cn.name === cssClass.name\r\n                    );\r\n                    selectClass(c);\r\n                    setPseudo(\"\");\r\n                  }}\r\n                >\r\n                  class\r\n                </span>\r\n                <span\r\n                  className={`rounded inline-block ${\r\n                    pseudo === \":hover\" ? \"bg-gray-400\" : \"bg-gray-200\"\r\n                  } px-2 bg-secondary mr-1 mb-1`}\r\n                  onClick={() => {\r\n                    const c = classNames.find(\r\n                      (cn) => cn.name === cssClass.name\r\n                    );\r\n                    selectPseudo(c, \":hover\");\r\n                  }}\r\n                >\r\n                  :hover\r\n                </span>\r\n                <span\r\n                  className={`rounded inline-block ${\r\n                    pseudo === \":before\" ? \"bg-gray-400\" : \"bg-gray-200\"\r\n                  } px-2 bg-secondary mr-1 mb-1`}\r\n                  onClick={() => {\r\n                    const c = classNames.find(\r\n                      (cn) => cn.name === cssClass.name\r\n                    );\r\n                    selectPseudo(c, \":before\");\r\n                  }}\r\n                >\r\n                  :before\r\n                </span>\r\n                <span\r\n                  className={`rounded inline-block ${\r\n                    pseudo === \":after\" ? \"bg-gray-400\" : \"bg-gray-200\"\r\n                  } px-2 bg-secondary mr-1 mb-1`}\r\n                  onClick={() => {\r\n                    const c = classNames.find(\r\n                      (cn) => cn.name === cssClass.name\r\n                    );\r\n                    selectPseudo(c, \":after\");\r\n                  }}\r\n                >\r\n                  :after\r\n                </span>\r\n              </div>\r\n            )}\r\n            <pre className=\"text-xs mb-3\">\r\n              <code>\r\n                .{cssClass && cssClass.name + pseudo} &#123; ... &#125;\r\n              </code>\r\n            </pre>\r\n            <Editor\r\n              className=\"hljs language-css rounded mt-2 mb-4\"\r\n              value={val}\r\n              onValueChange={(code) => {\r\n                //console.log(code);\r\n                setVal(code);\r\n\r\n                if (pseudo !== \"\") {\r\n                  updatePseudoClass(cssClass, pseudo, code);\r\n                } else {\r\n                  updateClassText(cssClass, code);\r\n                }\r\n              }}\r\n              onBlur={() => {\r\n                updateClassText(cssClass, val);\r\n\r\n                if (pseudo !== \"\") {\r\n                  updatePseudoClass(cssClass, pseudo, val);\r\n                } else {\r\n                  updateClassText(cssClass, val);\r\n                }\r\n              }}\r\n              highlight={(code) => highlight(code)}\r\n              padding={16}\r\n              style={{\r\n                fontFamily: '\"Fira code\", \"Fira Mono\", monospace',\r\n                fontSize: 12,\r\n              }}\r\n            />\r\n          </Accordion>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { useEffect, useState, useContext, createContext } from \"react\";\r\nimport { Context } from \"./../context\";\r\nimport { Accordion } from \"./common/Accordion\";\r\nimport BadgeButton from \"./common/BadgeButton\";\r\n\r\nimport exportHTML from \"./../helpers/exportHTML\";\r\nimport saveJSON from \"./../helpers/saveJSON\";\r\n\r\nimport ElementInfos from \"./ElementInfos\";\r\nimport CssEditor from \"./CssEditor\";\r\n\r\nimport { Tab } from \"@headlessui/react\";\r\n\r\nexport const SelectClassContext = createContext();\r\n\r\nexport default function InspectorPanel() {\r\n  const [val, setVal] = useState(\"/*write some code*/\");\r\n  const [cssClass, setCssClass] = useState();\r\n  const [newClassName, setNewClassName] = useState(\"new-class\");\r\n  const [text, setText] = useState(\"\");\r\n  const [pseudo, setPseudo] = useState(\"\");\r\n\r\n  const {\r\n    classNames,\r\n    elements,\r\n    removeClassName,\r\n    updateClassText,\r\n    addClassName,\r\n    addClassToElement,\r\n    removeClassFromElement,\r\n    changeElementText,\r\n    updatePseudoClass,\r\n    changeElementTag,\r\n    currentActive,\r\n    getClassByName,\r\n    importJSON,\r\n    changeElementSrc,\r\n  } = useContext(Context);\r\n\r\n  useEffect(() => {\r\n    if (currentActive?.classNames?.length > 0) {\r\n      //use the first className in el\r\n      const newClassObj = getClassByName(currentActive.classNames[0]);\r\n      if (newClassObj) {\r\n        selectClass(newClassObj);\r\n      }\r\n    }\r\n  }, [currentActive, getClassByName]);\r\n\r\n  const selectPseudo = (classObj, pseudo) => {\r\n    setCssClass(classObj);\r\n    setPseudo(pseudo);\r\n    if (classObj) {\r\n      setVal(classObj[pseudo] ? classObj[pseudo] : \"\");\r\n    }\r\n  };\r\n\r\n  const selectClass = (obj) => {\r\n    setVal(obj.txt);\r\n    setCssClass(obj);\r\n  };\r\n\r\n  return (\r\n    <SelectClassContext.Provider value={selectClass}>\r\n      <div className=\"w-96 flex-shrink-0 border-l shadow-xl overflow-auto bg-white\">\r\n        <Tab.Group>\r\n          <Tab.List className=\"border-b flex text-xs tracking-wider\">\r\n            <Tab\r\n              className={({ selected }) =>\r\n                selected\r\n                  ? \"p-4 border-b-2 border-indigo-500 flex-1 font-bold uppercase\"\r\n                  : \"p-4 flex-1 font-bold uppercase\"\r\n              }\r\n            >\r\n              Element\r\n            </Tab>\r\n            <Tab\r\n              className={({ selected }) =>\r\n                selected\r\n                  ? \"p-4 border-b-2 border-indigo-500 flex-1 font-bold uppercase\"\r\n                  : \"p-4 flex-1 font-bold uppercase\"\r\n              }\r\n            >\r\n              Document\r\n            </Tab>\r\n          </Tab.List>\r\n          <Tab.Panels>\r\n            <Tab.Panel>\r\n              {\r\n                //we don't need this, if it's a textnode\r\n                currentActive && currentActive.tag && (\r\n                  <CssEditor\r\n                    {...{\r\n                      elementSelected: currentActive,\r\n                      addClassName,\r\n                      cssClass,\r\n                      classNames,\r\n                      selectClass,\r\n                      setPseudo,\r\n                      pseudo,\r\n                      selectPseudo,\r\n                      val,\r\n                      setVal,\r\n                      updatePseudoClass,\r\n                      updateClassText,\r\n                      removeClassFromElement,\r\n                    }}\r\n                  />\r\n                )\r\n              }\r\n              <Accordion title=\"Element Details\" isOpen={false}>\r\n                <ElementInfos\r\n                  {...{\r\n                    elementSelected: currentActive,\r\n                    text,\r\n                    setText,\r\n                    changeElementText,\r\n                    selectClass,\r\n                    classNames,\r\n                    addClassName,\r\n                    removeClassFromElement,\r\n                    newClassName,\r\n                    setNewClassName,\r\n                    addClassToElement,\r\n                    changeElementTag,\r\n                    changeElementSrc,\r\n                  }}\r\n                />\r\n              </Accordion>\r\n            </Tab.Panel>\r\n            <Tab.Panel>\r\n              <Accordion title=\"All CSS Classes\" isOpen={false}>\r\n                {classNames.map((n) => (\r\n                  <BadgeButton\r\n                    key={n.name}\r\n                    isActive={n.name === cssClass?.name ? true : false}\r\n                    onClick={() => selectClass(n)}\r\n                    onDelete={() => removeClassName(n)}\r\n                  >\r\n                    <button\r\n                      className=\"mr-2\"\r\n                      onClick={() =>\r\n                        addClassToElement(currentActive.id, n.name)\r\n                      }\r\n                    >\r\n                      +\r\n                    </button>\r\n                    {n.name}\r\n                  </BadgeButton>\r\n                ))}\r\n              </Accordion>\r\n              <Accordion title=\"Export\" isOpen={true}>\r\n                <button\r\n                  className=\"mt-3 w-full py-2 px-6 rounded border text-indigo-500 border-indigo-500 flex-grow\"\r\n                  onClick={() => exportHTML({ classNames, elements })}\r\n                >\r\n                  Export HTML\r\n                </button>\r\n                <button\r\n                  className=\"mt-3 w-full py-2 px-6 rounded border text-indigo-500 border-indigo-500 flex-grow\"\r\n                  onClick={() => saveJSON({ classNames, elements })}\r\n                >\r\n                  Save JSON\r\n                </button>\r\n              </Accordion>\r\n              <Accordion title=\"Import\" isOpen={true}>\r\n                <label className=\"mt-3 block text-center py-2 px-6 rounded border text-indigo-500 border-indigo-500 flex-grow\">\r\n                  import JSON\r\n                  <input\r\n                    className=\"hidden\"\r\n                    type=\"file\"\r\n                    onChange={importJSON}\r\n                    accept=\"application/json\"\r\n                  />\r\n                </label>\r\n              </Accordion>\r\n            </Tab.Panel>\r\n          </Tab.Panels>\r\n        </Tab.Group>\r\n      </div>\r\n    </SelectClassContext.Provider>\r\n  );\r\n}\r\n","import beautify from \"js-beautify\";\r\nexport default function saveJSON({ classNames, elements }) {\r\n  const txt = beautify(JSON.stringify({ classNames, elements }));\r\n  const blob = new Blob([txt], {\r\n    type: \"application/json\"\r\n  });\r\n  const url = window.URL.createObjectURL(blob);\r\n  const a = document.createElement(\"a\");\r\n  a.href = url;\r\n  a.download = \"data.json\";\r\n  a.click();\r\n}\r\n","import { useState } from \"react\";\r\n\r\nexport default function CollapsableElement({ isOpen = true, ...props }) {\r\n  const [open, setOpen] = useState(isOpen);\r\n  return (\r\n    <div className=\"relative\" {...props}>\r\n      <button\r\n        className=\"absolute -left-4 top-1 px-1\"\r\n        onClick={() => setOpen(!open)}\r\n      >\r\n        {open ? \"-\" : \"+\"}\r\n      </button>\r\n      {props.title}\r\n      <div>{open ? props.children : null}</div>\r\n    </div>\r\n  );\r\n}\r\n","import CollapsableElement from \"./common/CollapsableElement\";\r\nimport * as Icon from \"react-feather\";\r\nimport { Icon as WPIcon, dragHandle } from \"@wordpress/icons\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport ElementTreeItem from \"./ElementTreeItem\";\r\nimport { MOVE_ELEMENT_POSITION } from \"../constants\";\r\n\r\nexport default function ElementTreeItemSingle({\r\n  //TODO: get it directly from context...\r\n  setCurrentActive,\r\n  currentActive,\r\n  addChildToElement,\r\n  removeElement,\r\n  moveElement,\r\n  moveElementFromTo,\r\n  cloneElement,\r\n\r\n  //props for this el\r\n  el,\r\n}) {\r\n  const [{}, dragRef] = useDrag({\r\n    type: \"treeitem\",\r\n    item: { id: el.id },\r\n  });\r\n\r\n  const [{ isOverBefore }, dropRefBefore] = useDrop({\r\n    accept: \"treeitem\",\r\n    drop: (item) => {\r\n      console.log(`move ${item.id} to ${el.id}, before`);\r\n      moveElementFromTo(item.id, el.id, MOVE_ELEMENT_POSITION.BEFORE);\r\n    },\r\n    collect: (monitor) => {\r\n      return {\r\n        isOverBefore: monitor.isOver(),\r\n      };\r\n    },\r\n  });\r\n\r\n  const [{ isOverAfter }, dropRefAfter] = useDrop({\r\n    accept: \"treeitem\",\r\n    drop: (item) => {\r\n      console.log(`move ${item.id} to ${el.id}, after`);\r\n      moveElementFromTo(item.id, el.id, MOVE_ELEMENT_POSITION.AFTER);\r\n    },\r\n    collect: (monitor) => {\r\n      return {\r\n        isOverAfter: monitor.isOver(),\r\n      };\r\n    },\r\n  });\r\n\r\n  const [{ isOverInside }, dropRefInside] = useDrop({\r\n    accept: \"treeitem\",\r\n    drop: (item) => {\r\n      console.log(`move ${item.id} to ${el.id}, inside`);\r\n      moveElementFromTo(item.id, el.id, MOVE_ELEMENT_POSITION.INSIDE);\r\n    },\r\n    collect: (monitor) => {\r\n      return {\r\n        isOverInside: monitor.isOver(),\r\n      };\r\n    },\r\n  });\r\n\r\n  let elClassList = \"\";\r\n  el.classNames &&\r\n    el.classNames.forEach((name) => {\r\n      elClassList += `.${name}`;\r\n    });\r\n\r\n  const activeClass = el.id === currentActive?.id ? \"bg-gray-200\" : \"\";\r\n\r\n  const AlwaysVisible = (\r\n    <div\r\n      className=\"py-1 flex\"\r\n      onClick={() => {\r\n        setCurrentActive(el);\r\n      }}\r\n    >\r\n      <div\r\n        className=\"flex rounded overflow-hidden flex-shrink-0 mr-1\"\r\n        style={{ maxWidth: 150 }}\r\n      >\r\n        <span className=\"pl-1 pr-2 bg-gray-300\" ref={dragRef} draggable>\r\n          <span className=\"inline-flex\">\r\n            <WPIcon className=\"inline-block mr-1\" icon={dragHandle} size={8} />\r\n          </span>\r\n          {el.tag ? el.tag : \"text: \"}\r\n          {el.text && el.text}\r\n        </span>\r\n        <span className=\"px-2 bg-gray-200 text-gray-600\">\r\n          {el.classNames && elClassList}\r\n        </span>\r\n      </div>\r\n      <button className=\"mx-1\" onClick={() => moveElement(el.id, -1)}>\r\n        <Icon.ArrowUp size={12} />\r\n      </button>\r\n      <button className=\"mx-1\" onClick={() => moveElement(el.id, 1)}>\r\n        <Icon.ArrowDown size={12} />\r\n      </button>\r\n      <button className=\"mx-1\" onClick={() => cloneElement(el.id)}>\r\n        <Icon.Copy size={12} />\r\n      </button>\r\n      <button\r\n        className=\"mx-1\"\r\n        onClick={(e) => {\r\n          e.stopPropagation();\r\n          removeElement(el.id);\r\n        }}\r\n      >\r\n        <Icon.Trash size={12} />\r\n      </button>\r\n      {el.tag && (\r\n        <>\r\n          <button\r\n            className=\"px-2 rounded bg-gray-300 mr-1\"\r\n            onClick={() => {\r\n              addChildToElement(el.id, \"div\");\r\n            }}\r\n          >\r\n            + div\r\n          </button>\r\n          <button\r\n            className=\"px-2 rounded bg-gray-300 mr-1\"\r\n            onClick={() => {\r\n              addChildToElement(el.id, \"img\");\r\n            }}\r\n          >\r\n            + img\r\n          </button>\r\n          <button\r\n            className=\"px-2 rounded bg-gray-300 mr-1\"\r\n            onClick={() => {\r\n              addChildToElement(el.id, false);\r\n            }}\r\n          >\r\n            + Text\r\n          </button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <li key={el.id} className={\"text-xs \" + activeClass}>\r\n      <div\r\n        className={isOverBefore && \"bg-indigo-500\"}\r\n        style={{ height: 4 }}\r\n        ref={dropRefBefore}\r\n      />\r\n      <CollapsableElement title={AlwaysVisible}>\r\n        {el.children && (\r\n          <>\r\n            <div\r\n              className={isOverInside && \"bg-indigo-500\"}\r\n              style={{\r\n                height: 2,\r\n                width: \"100%\",\r\n                position: \"absolute\",\r\n                left: \"1rem\",\r\n              }}\r\n              ref={dropRefInside}\r\n            />\r\n            <ElementTreeItem\r\n              {...{\r\n                childrenArray: el.children,\r\n                setCurrentActive,\r\n                currentActive,\r\n                addChildToElement,\r\n                removeElement,\r\n                moveElement,\r\n                moveElementFromTo,\r\n                cloneElement,\r\n              }}\r\n            />\r\n          </>\r\n        )}\r\n      </CollapsableElement>\r\n      <div\r\n        className={isOverAfter && \"bg-indigo-500\"}\r\n        style={{ height: 4 }}\r\n        ref={dropRefAfter}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n","import ElementTreeItemSingle from \"./ElementTreeItemSingle\";\r\n\r\nexport default function ElementTreeItem(props) {\r\n  return (\r\n    <ul className=\"ml-3 w-full whitespace-nowrap\">\r\n      {props.childrenArray.map((el) => (\r\n        <ElementTreeItemSingle {...props} el={el} key={el.id} />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import { ContextConsumer } from \"./../context\";\r\nimport ElementTreeItem from \"./ElementTreeItem\";\r\n\r\nexport default function ElementTreeContainer() {\r\n  return (\r\n    <ContextConsumer>\r\n      {({\r\n        elements,\r\n        setCurrentActive,\r\n        currentActive,\r\n        addChildToElement,\r\n        removeElement,\r\n        classNames,\r\n        moveElement,\r\n        moveElementFromTo,\r\n        cloneElement,\r\n      }) => (\r\n        <div>\r\n          <div className=\"border-t overflow-auto pb-5\">\r\n            <ElementTreeItem\r\n              {...{\r\n                childrenArray: elements,\r\n                setCurrentActive,\r\n                currentActive,\r\n                addChildToElement,\r\n                removeElement,\r\n                classNames,\r\n                moveElement,\r\n                moveElementFromTo,\r\n                cloneElement,\r\n              }}\r\n            />\r\n          </div>\r\n          <button\r\n            onClick={() => addChildToElement(null, \"div\")}\r\n            className=\"mt-3 w-full py-2 px-6 rounded border text-indigo-500 border-indigo-500 flex-grow\"\r\n          >\r\n            +\r\n          </button>\r\n        </div>\r\n      )}\r\n    </ContextConsumer>\r\n  );\r\n}\r\n","import { Accordion } from \"./common/Accordion\";\r\nimport ElementTreeContainer from \"./ElementTreeContainer\";\r\n\r\nexport default function LeftPanel() {\r\n  return (\r\n    <div className=\"w-80 flex-shrink-0 border-l shadow-xl overflow-auto bg-white\">\r\n      <Accordion title=\"Element Tree\">\r\n        <ElementTreeContainer />\r\n      </Accordion>\r\n    </div>\r\n  );\r\n}\r\n","import * as Icon from \"react-feather\";\r\nimport { useContext } from \"react\";\r\nimport { Context } from \"../context\";\r\n\r\nexport default function TopBar({\r\n  setResponsiveWidth,\r\n  responsiveWidth,\r\n  hidePanels,\r\n  setHidePanels,\r\n}) {\r\n  const { historyMove, historyPos, history } = useContext(Context);\r\n\r\n  return (\r\n    <div className=\"text-xs h-12 border-b bg-gray-900 text-gray-500 space-x-4 grid grid-cols-3\">\r\n      <div className=\"flex items-center px-4\">\r\n        <div className=\"w-8\">\r\n          {history.length - 1 + historyPos > 0 && (\r\n            <button className=\"mr-2\" onClick={() => historyMove(-1)}>\r\n              <Icon.CornerUpLeft size={16} />\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div class=\"w-8\">\r\n          {historyPos < 0 && (\r\n            <button onClick={() => historyMove(+1)}>\r\n              <Icon.CornerUpRight size={16} />\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"flex justify-center items-center px-4\">\r\n        <button\r\n          className={\"mx-1 \" + (responsiveWidth === 400 ? \"text-white\" : \"\")}\r\n          onClick={() => setResponsiveWidth(400)}\r\n        >\r\n          <Icon.Smartphone size={16} />\r\n        </button>\r\n        <button\r\n          className={\"mx-1 \" + (responsiveWidth === 700 ? \"text-white\" : \"\")}\r\n          onClick={() => setResponsiveWidth(700)}\r\n        >\r\n          <Icon.Tablet size={16} />\r\n        </button>\r\n        <button\r\n          className={\"mx-1 \" + (responsiveWidth === \"100%\" ? \"text-white\" : \"\")}\r\n          onClick={() => setResponsiveWidth(\"100%\")}\r\n        >\r\n          <Icon.Monitor size={16} />\r\n        </button>\r\n      </div>\r\n      <div className=\"flex items-center justify-end px-4\">\r\n        <button\r\n          className={hidePanels && \"text-white\"}\r\n          onClick={() => setHidePanels(!hidePanels)}\r\n        >\r\n          <Icon.Eye size={16} />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./styles.css\";\r\nimport EditorCanvas from \"./components/EditorCanvas\";\r\nimport InspectorPanel from \"./components/InspectorPanel\";\r\nimport LeftPanel from \"./components/LeftPanel\";\r\nimport TopBar from \"./components/TopBar\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function App() {\r\n  const [responsiveWidth, setResponsiveWidth] = useState(\"100%\");\r\n  const [hidePanels, setHidePanels] = useState(false);\r\n\r\n  return (\r\n    <div className=\"App flex flex-col h-screen bg-gray-100\">\r\n      <TopBar\r\n        setResponsiveWidth={setResponsiveWidth}\r\n        responsiveWidth={responsiveWidth}\r\n        setHidePanels={setHidePanels}\r\n        hidePanels={hidePanels}\r\n      />\r\n      <div className=\"flex h-20 flex-grow flex-shrink\">\r\n        {!hidePanels && <LeftPanel />}\r\n        <EditorCanvas\r\n          responsiveWidth={responsiveWidth}\r\n          hidePanels={hidePanels}\r\n        />\r\n        {!hidePanels && <InspectorPanel />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { StrictMode } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\nimport { ContextProvider } from \"./context\";\r\n\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(\r\n  <StrictMode>\r\n    <DndProvider backend={HTML5Backend}>\r\n      <ContextProvider>\r\n        <App />\r\n      </ContextProvider>\r\n    </DndProvider>\r\n  </StrictMode>,\r\n  rootElement\r\n);\r\n"],"sourceRoot":""}